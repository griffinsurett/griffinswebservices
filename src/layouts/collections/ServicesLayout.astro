---
// src/layouts/collections/ServicesLayout.astro
/**
 * Services Layout - Unified Item Page Layout for Solutions & Capabilities
 *
 * A specialized layout for service-type collection items.
 * Features:
 * - QuoteHero for solutions and capabilities
 * - MDX content rendering
 *
 * Note: Parent solutions (websites, web-applications, landing-pages) use
 * WebSolutionLayout directly via their frontmatter layout property.
 */
import BaseLayout from "@/layouts/BaseLayout.astro";
import QuoteHero from "@/layouts/QuoteHero.astro";
import type { CollectionLayoutProps } from "./types";

const {
  entry,
  collection,
  collectionMeta,
  Content,
  isIndexPage,
  seoProps = {},
  ...extraProps
} = Astro.props as CollectionLayoutProps;

const data = entry?.data || {};
const {
  title,
  description,
  price,
  heading,
} = data;

// Build the description with price if available
const heroDescription = price ? `${description} ${price}` : description;
---

<BaseLayout {...seoProps}>
  <QuoteHero
    title={title}
    heading={heading}
    description={heroDescription}
    primaryCTA={{
      text: `View All ${collectionMeta?.data?.title || "Services"}`,
      link: `/${collection}`,
      rightIcon: "lu:arrow-left",
    }}
    id="services-quote-hero"
  />

  {/* MDX Content */}
  {Content && <Content />}
</BaseLayout>
