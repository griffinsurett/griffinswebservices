---
// src/components/LoopComponents/ContactCard.astro
/**
 * Contact Card Component
 *
 * Card-style contact item similar to IconListItem.
 * Displays contact information with:
 * - Large icon
 * - Title (formatted phone number, email, etc.)
 * - Optional description label
 * - Clickable link (entire card is clickable when href provided)
 *
 * Expects normalized data from normalizeContactLinks utility.
 */

import Icon from "@/components/Icon";

export interface Props {
  title: string;        // Formatted display title
  href?: string;        // Pre-computed URL (tel:, mailto:, etc.)
  description?: string; // Label like "Call Us" or "Email Us"
  icon?: any;           // Icon identifier
}

const { title, href, description, icon } = Astro.props;

const displayIcon = icon || "lu:contact";
const Tag = href ? "a" : "div";
---

<Tag
  href={href}
  class:list={[
    "flex items-center gap-4 p-5 rounded-xl bg-bg border border-border/50",
    "transition-all duration-200",
    href && "hover:border-primary/50 hover:shadow-md cursor-pointer group",
  ]}
>
  {/* Icon */}
  <div class="shrink-0">
    <Icon
      icon={displayIcon}
      size="lg"
      className="card-icon-color group-hover:text-primary transition-colors"
    />
  </div>

  {/* Content */}
  <div class="flex flex-col">
    {description && (
      <span class="text-sm text-text/70 uppercase tracking-wide mb-0.5">
        {description}
      </span>
    )}
    <span class="h4 text-heading group-hover:text-primary transition-colors">
      {title}
    </span>
  </div>
</Tag>
