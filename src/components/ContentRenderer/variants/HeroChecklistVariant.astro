---
// src/components/ContentRenderer/variants/HeroChecklistVariant.astro
/**
 * Hero Checklist Variant - Simple list with check icons in circles
 * Matches the FrontPageHero check icon style with faded background circles
 * Great for displaying children capabilities or features in a compact format
 */

import type { BaseVariantProps } from "../ContentRenderer.types";
import SectionHeader from "@/components/SectionHeader.astro";
import Section from "@/components/Section.astro";
import { toArray } from "@/utils/array";

interface Props extends BaseVariantProps {
  columns?: 1 | 2;
  showDescription?: boolean;
  listClassName?: string;
}

const {
  items = [],
  title,
  heading,
  description,
  className = "",
  columns = 1,
  showDescription = false,
  listClassName = "",
  id,
} = Astro.props as Props;

const safeItems = toArray(items);

// Column class mapping
const columnClasses: Record<number, string> = {
  1: "grid-cols-1",
  2: "grid-cols-1 md:grid-cols-2",
};

const showHeader = Boolean(title || heading || description);
---

{safeItems.length > 0 && (
  <div id={id} class={className}>
    {showHeader && (
      <SectionHeader
        title={title}
        heading={heading}
        description={description}
        className="text-section mb-6"
      />
    )}

    <ul class={`grid ${columnClasses[columns]} gap-2 lg:gap-3 list-none ${listClassName}`.trim()}>
      {safeItems.map((item) => (
        <li class="list-none flex items-start gap-2">
          <span class="faded-bg p-1.5 rounded-full flex items-center justify-center text-accent flex-shrink-0 mt-0.5">
            <svg
              class="w-3 h-3 lg:w-4 lg:h-4"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
            >
              <polyline points="20 6 9 17 4 12" />
            </svg>
          </span>
          <div class="flex flex-col">
            <span class="text-text text-base lg:text-lg leading-relaxed font-medium">
              {item.title}
            </span>
            {showDescription && item.description && (
              <span class="text-muted text-sm mt-0.5">
                {item.description}
              </span>
            )}
          </div>
        </li>
      ))}
    </ul>
  </div>
)}
