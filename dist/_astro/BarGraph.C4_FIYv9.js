import{r as i,j as e}from"./react-core.DsT86Xbq.js";import{u as $}from"./useMotionPreference.CpwXUkjH.js";function v({value:o,duration:a=1e3,decimals:r=0}){const[u,l]=i.useState(0),t=i.useRef(null),c=i.useRef(null);i.useEffect(()=>{if(a===0){l(o);return}t.current=performance.now();const f=x=>{if(!t.current)return;const p=x-t.current,s=Math.min(p/a,1),n=1-Math.pow(1-s,3),d=o*n;l(d),s<1&&(c.current=requestAnimationFrame(f))};return c.current=requestAnimationFrame(f),()=>{c.current&&cancelAnimationFrame(c.current)}},[o,a]);const m=r>0?u.toFixed(r):Math.round(u).toString();return e.jsx("span",{className:"tabular-nums",children:m})}function M({label:o,value:a,variant:r="primary",showValue:u=!0,stat:l,statValue:t,statSuffix:c="",delay:m=0,height:f="h-10",className:x="",counterDuration:p=1e3}){const s=$(),[n,d]=i.useState(!1),h=i.useRef(null);i.useEffect(()=>{if(s){d(!0);return}const g=new IntersectionObserver(y=>{y.forEach(R=>{R.isIntersecting&&!n&&setTimeout(()=>d(!0),m)})},{threshold:.3});return h.current&&g.observe(h.current),()=>g.disconnect()},[n,m,s]);const N=r==="primary"?"primary-gradient":r==="primary-reverse"?"bg-linear-to-r from-accent-700 to-accent":"bg-text/30",b=r==="primary"||r==="primary-reverse"?"text-accent font-bold":"text-text/60",j=s?0:p,w=t!==void 0?t.toString().split(".")[1]?.length??0:0;return e.jsxs("div",{ref:h,className:`w-full ${x}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-text/80",children:o}),t!==void 0?e.jsxs("span",{className:`text-lg ${b}`,children:[e.jsx(v,{value:n?t:0,duration:j,decimals:w}),c]}):l?e.jsx("span",{className:`text-lg ${b}`,children:l}):null]}),e.jsxs("div",{className:`w-full ${f} bg-text/10 rounded-sm overflow-hidden relative`,children:[e.jsx("div",{className:`h-full rounded-sm ${s?"":"transition-all duration-1000 ease-out"} ${N}`,style:{width:n?`${a}%`:"0%"}}),u&&e.jsxs("span",{className:"absolute inset-0 flex items-center pl-3 text-sm font-semibold text-white",children:[e.jsx(v,{value:n?a:0,duration:j}),"%"]})]})]})}export{M as default};
