import{j as t,r as u}from"./react-core.INjS0cla.js";import{M as y}from"./CookieConsentBanner.CxXlLRXa.js";import{B as N}from"./accordion.BXVC5r2y.js";import{I as S}from"./ui-primitives.CM-pdwI4.js";import"./lazy-utils.CHL3-7XF.js";import"./scriptManager.jKgPrBry.js";import"./visibility-hooks.CrGIozah.js";import"./engagement-hooks.CKajifgp.js";const v="__GWS_CLIENT_CLICK_HANDLERS__",M="gws:client-click-handler-ready",j=()=>{const e=globalThis;return e[v]||(e[v]=new Map),e[v]},I=()=>{const e=globalThis;return e.__GWS_CLIENT_CLICK_PENDING__||(e.__GWS_CLIENT_CLICK_PENDING__=new Map),e.__GWS_CLIENT_CLICK_PENDING__},$=(e,a)=>{const r=I(),o=r.get(e);if(o?.length){r.delete(e);for(const l of o)try{l(a)}catch{}}},B=(e,a)=>{if(!e)return;j().set(e,a),$(e,a),typeof window<"u"&&window.dispatchEvent(new CustomEvent(M,{detail:{key:e}}))},T=(e,a)=>{if(!e)return;const r=j();r.get(e)===a&&r.delete(e)};function G({title:e,url:a,children:r=[],openInNewTab:o=!1,onNavigate:l,onOpenSubmenu:d}){const i=r.length>0,c=()=>{i&&d?.({title:e,items:r})},g=()=>{if(a){l();return}c()};return i?t.jsx("li",{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(N,{variant:"menuItemButton",className:"hover-emphasis-text inline-flex items-center gap-2 text-left",onClick:g,...a?{href:a,target:o?"_blank":void 0,rel:o?"noopener noreferrer":void 0}:{type:"button"},children:e}),t.jsx("button",{type:"button",onClick:c,"aria-label":`View submenu for ${e}`,className:"text-text",children:t.jsx(S,{icon:"lu:chevron-right",size:"md",className:"w-6 h-6"})})]})}):t.jsx("li",{children:t.jsx(N,{variant:"menuItemButton",href:a||"#",onClick:l,target:o?"_blank":void 0,rel:o?"noopener noreferrer":void 0,className:"hover-emphasis-text",children:e})})}function D({isOpen:e,onChange:a,className:r="",ariaLabel:o="Toggle menu",hamburgerTransform:l=!0,...d}){const i=l&&e;return t.jsxs("button",{type:"button","aria-label":o,"aria-expanded":e,onClick:()=>a(!e),className:`group relative h-6 w-7 cursor-pointer flex flex-col justify-between items-start text-text hover:text-heading ${r}`.trim(),...d,children:[t.jsx("span",{className:`block h-[0.5px] w-full bg-current transition-all duration-300 ${i?"absolute top-1/2 -translate-y-1/2 rotate-45":""}`}),t.jsx("span",{className:`block h-[0.5px] bg-current transition-all duration-300 ${i?"opacity-0 w-full":"opacity-100 w-5 group-hover:w-full"}`}),t.jsx("span",{className:`block h-[0.5px] w-full bg-current transition-all duration-300 ${i?"absolute top-1/2 -translate-y-1/2 -rotate-45":""}`})]})}function q({items:e,className:a="",hamburgerTransform:r=!0,closeButton:o=!1,triggerId:l="mobile-menu-toggle",useExternalTrigger:d=!1,clientClickHandlerKey:i}){const[c,g]=u.useState(!1),[h,b]=u.useState(()=>[{title:"Main Menu",items:e}]),_=u.useRef(l);_.current=l;const p=u.useCallback(()=>{b([{title:"Main Menu",items:e}])},[e]);u.useEffect(()=>{p()},[p]);const x=u.useCallback(n=>{const s=document.getElementById(_.current);s&&s.setAttribute("aria-expanded",String(n))},[]),m=u.useCallback(n=>{g(s=>{const f=typeof n=="boolean"?n:!s;return f||p(),x(f),f})},[p,x]);u.useEffect(()=>{x(c)},[c,x]),u.useEffect(()=>{if(!d)return;const n=document.getElementById(l);if(!n)return;const s=()=>m();return n.addEventListener("click",s),()=>n.removeEventListener("click",s)},[l,m,d]),u.useEffect(()=>{if(!i)return;const n=()=>(m(),!0);return B(i,n),()=>{T(i,n)}},[i,m]);const w=()=>{m(!1)},E=(n,s)=>{s?.length&&b(f=>[...f,{title:n,items:s}])},k=()=>{b(n=>n.length>1?n.slice(0,-1):n)},L=(h.length-1)*100;return t.jsxs(t.Fragment,{children:[!d&&t.jsx(D,{isOpen:c,onChange:n=>m(n),hamburgerTransform:r,ariaLabel:c?"Close menu":"Open menu",id:l}),t.jsx(y,{isOpen:c,onClose:()=>m(!1),position:"center",className:`w-full max-w-full h-full hero-gradient-bg p-0 rounded-none transform transition-transform duration-300 ease-out ${c?"translate-y-0":"translate-y-full"}`,overlayClass:`bg-black/50 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,closeButton:o,ariaLabel:"Mobile navigation menu",ssr:!1,children:t.jsx("nav",{className:`${a} h-full w-full flex flex-col justify-center overflow-hidden`,"aria-label":"Mobile navigation",children:t.jsx("div",{className:"inner-section my-auto py-4",style:{maxHeight:"calc(100vh - 6rem)"},children:t.jsx("div",{className:"relative w-full h-full overflow-hidden",children:t.jsx("div",{className:"flex h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${L}%)`},children:h.map((n,s)=>t.jsxs("div",{className:"w-full flex-shrink-0 h-full flex flex-col relative","aria-hidden":s!==h.length-1,children:[s>0&&t.jsxs("button",{type:"button",onClick:k,className:"flex items-center gap-2 text-text hover:underline absolute left-0 top-0","aria-label":`Go back to ${h[s-1]?.title??"previous menu"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),t.jsx("div",{className:`flex-1 overflow-y-auto overflow-x-hidden pr-2 ${s>0?"pt-12":""}`,children:t.jsx("ul",{className:"menu-item-spacing pb-10",children:n.items.map(f=>t.jsx(G,{...f,onNavigate:w,onOpenSubmenu:C=>E(C.title,C.items)},f.slug||f.id))})})]},`${n.title}-${s}`))})})})})})]})}export{q as default};
