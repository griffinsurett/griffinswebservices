import{r as l,j as t}from"./react-core.BB4vLEha.js";import{M as W}from"./Modal.B6CJG4tx.js";import{u as G}from"./theme-accent.C3YqZezJ.js";import{A as R}from"./ui-primitives.CQK2ZlhS.js";import{T as p}from"./ToggleControl.DzcddJ-P.js";import{B as N}from"./accordion.BjUyW9NB.js";import{u as D}from"./theme-language.D5K8IzDB.js";/* empty css                                   */import"./theme-shared.BQV-CduL.js";import"./visibility-hooks.Cd3wFtKD.js";import"./scroll-observer.EoeTqr10.js";import"./engagement-hooks.xADeouMg.js";const H={text:{fontSize:100,lineHeight:1.5,letterSpacing:0,wordSpacing:0,fontFamily:"default",fontWeight:"normal",textAlign:"left"},visual:{linkHighlight:!1,titleHighlight:!1,contrastBoost:!1,saturation:"normal"},reading:{readingGuide:!1,readingMask:!1,focusHighlight:!1,bigCursor:!1,pauseAnimations:!1},content:{hideImages:!1,muteSounds:!1,reducedMotion:!1},timestamp:Date.now(),version:"1.0"},L={normal:"400",semibold:"600",bold:"700"};let k=null,A=null;function O(){if(!k&&(k=e=>{const a=document.querySelector("[data-reading-guide]");a&&(a.style.top=`${e.clientY}px`)},document.addEventListener("mousemove",k,{passive:!0}),!document.querySelector("[data-reading-guide]"))){const e=document.createElement("div");e.setAttribute("data-reading-guide","true"),e.style.cssText=`
      position: fixed;
      left: 0;
      right: 0;
      height: 2px;
      background-color: rgba(255, 0, 0, 0.6);
      pointer-events: none;
      z-index: 9999;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.4);
    `,document.body.appendChild(e)}}function M(){k&&(document.removeEventListener("mousemove",k),k=null);const e=document.querySelector("[data-reading-guide]");e&&e.remove()}function _(){A||(A=e=>{document.documentElement.style.setProperty("--cursor-x",`${e.clientX}px`),document.documentElement.style.setProperty("--cursor-y",`${e.clientY}px`)},document.addEventListener("mousemove",A,{passive:!0}))}function F(){A&&(document.removeEventListener("mousemove",A),A=null)}function q(e){const a=document.documentElement,o=L[e.text.fontWeight]??L.normal;console.log("ðŸŽ¨ Applying accessibility preferences:",e),a.style.setProperty("--a11y-font-size",`${e.text.fontSize}%`),a.style.setProperty("--a11y-line-height",`${e.text.lineHeight}`),a.style.setProperty("--a11y-letter-spacing",`${e.text.letterSpacing}em`),a.style.setProperty("--a11y-word-spacing",`${e.text.wordSpacing}em`),a.style.setProperty("--a11y-font-weight",o),a.style.setProperty("--a11y-text-align",e.text.textAlign),a.setAttribute("data-a11y-font",e.text.fontFamily),e.text.lineHeight!==1.5?a.setAttribute("data-a11y-line-height","true"):a.removeAttribute("data-a11y-line-height"),e.text.letterSpacing!==0?a.setAttribute("data-a11y-letter-spacing","true"):a.removeAttribute("data-a11y-letter-spacing"),e.text.wordSpacing!==0?a.setAttribute("data-a11y-word-spacing","true"):a.removeAttribute("data-a11y-word-spacing"),e.text.fontWeight!=="normal"?a.setAttribute("data-a11y-font-weight",e.text.fontWeight):a.removeAttribute("data-a11y-font-weight"),e.text.textAlign!=="left"?a.setAttribute("data-a11y-text-align","true"):a.removeAttribute("data-a11y-text-align"),a.setAttribute("data-a11y-links",e.visual.linkHighlight?"true":"false"),a.setAttribute("data-a11y-titles",e.visual.titleHighlight?"true":"false"),a.setAttribute("data-a11y-contrast",e.visual.contrastBoost?"boost":"normal"),a.setAttribute("data-a11y-saturation",e.visual.saturation),a.setAttribute("data-a11y-focus",e.reading.focusHighlight?"true":"false"),a.setAttribute("data-a11y-cursor",e.reading.bigCursor?"big":"normal"),a.setAttribute("data-a11y-mask",e.reading.readingMask?"true":"false"),e.reading.pauseAnimations?(a.style.setProperty("--a11y-animation-duration","0.01ms"),a.setAttribute("data-a11y-animations","true")):(a.style.removeProperty("--a11y-animation-duration"),a.removeAttribute("data-a11y-animations")),e.reading.readingGuide?O():M(),e.reading.readingMask?_():F(),a.setAttribute("data-a11y-images",e.content.hideImages?"hide":"show"),a.setAttribute("data-a11y-sounds",e.content.muteSounds?"mute":"play"),a.setAttribute("data-a11y-motion",e.content.reducedMotion?"reduced":"normal"),console.log("âœ… Accessibility preferences applied successfully")}function U(){const e=document.documentElement;console.log("ðŸ§¹ Removing all accessibility preferences"),e.style.removeProperty("--a11y-font-size"),e.style.removeProperty("--a11y-line-height"),e.style.removeProperty("--a11y-letter-spacing"),e.style.removeProperty("--a11y-word-spacing"),e.style.removeProperty("--a11y-font-weight"),e.style.removeProperty("--a11y-text-align"),e.style.removeProperty("--a11y-animation-duration"),e.removeAttribute("data-a11y-font"),e.removeAttribute("data-a11y-line-height"),e.removeAttribute("data-a11y-letter-spacing"),e.removeAttribute("data-a11y-word-spacing"),e.removeAttribute("data-a11y-font-weight"),e.removeAttribute("data-a11y-text-align"),e.removeAttribute("data-a11y-links"),e.removeAttribute("data-a11y-titles"),e.removeAttribute("data-a11y-contrast"),e.removeAttribute("data-a11y-saturation"),e.removeAttribute("data-a11y-focus"),e.removeAttribute("data-a11y-cursor"),e.removeAttribute("data-a11y-mask"),e.removeAttribute("data-a11y-images"),e.removeAttribute("data-a11y-sounds"),e.removeAttribute("data-a11y-motion"),e.removeAttribute("data-a11y-animations"),M(),F()}function V(){const[e,a]=G("user-a11y-prefs",H,{raw:!1,syncTabs:!0,validate:r=>r&&typeof r=="object"&&"text"in r&&"visual"in r&&"reading"in r&&"content"in r});return l.useEffect(()=>{console.log("ðŸ”„ Preferences changed, applying:",e),q(e)},[e]),{preferences:e,setPreferences:a,resetPreferences:()=>{console.log("ðŸ”„ Resetting to default preferences"),U(),a(H)}}}function w({title:e,children:a}){return t.jsxs("section",{className:"mb-8",children:[t.jsx("h3",{className:"text-lg font-bold text-heading mb-4 pb-2 border-b-2 border-primary",children:e}),t.jsx("div",{children:a})]})}function C({label:e,description:a,value:o,min:r,max:u,step:x,suffix:d="",onChange:s,id:m}){const g=l.useId(),i=m??g,c=a?`${i}-description`:void 0,[y,f]=l.useState(!1),v=l.useCallback(()=>f(!0),[]),n=l.useCallback(()=>f(!1),[]),b=l.useCallback(()=>f(!1),[]);return t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[t.jsx("label",{className:"font-semibold text-heading",htmlFor:i,children:e}),t.jsxs("span",{className:"text-sm font-mono text-text",children:[o,d]})]}),a&&t.jsx("p",{id:c,className:"text-sm text-text mb-3",children:a}),t.jsx(R,{variant:"solid",triggers:"controlled",active:y,duration:900,borderWidth:2,borderRadius:"rounded-xl",color:"var(--color-accent)",className:"block",innerClassName:"!bg-transparent !border-transparent rounded-xl",children:t.jsx("div",{className:"rounded-xl border border-accent/30 px-4 py-3 bg-transparent",children:t.jsx("input",{id:i,type:"range",min:r,max:u,step:x,value:o,"aria-valuemin":r,"aria-valuemax":u,"aria-valuenow":o,"aria-describedby":c,onChange:h=>s(parseFloat(h.target.value)),onFocus:v,onBlur:n,onMouseDown:v,onMouseUp:b,onTouchStart:v,onTouchEnd:b,className:"w-full h-2 bg-text/20 rounded-lg appearance-none cursor-pointer accent-primary"})})}),t.jsxs("div",{className:"flex justify-between text-xs text-text mt-2",children:[t.jsxs("span",{children:[r,d]}),t.jsxs("span",{children:[u,d]})]})]})}function Y({name:e,label:a,required:o=!1,options:r,placeholder:u="Select an option",containerClassName:x="space-y-2",labelClassName:d="block text-sm text-text/80",selectClassName:s="",showLabel:m=!0,labelHidden:g=!1,describedBy:i,borderDuration:c=900,borderWidth:y=2,borderRadius:f="rounded-xl",id:v,onFocus:n,onBlur:b,...h}){const[I,P]=l.useState(!1),B=l.useId(),E=v??`${e}-${B}`,T=l.useCallback(j=>{P(!0),n?.(j)},[n]),z=l.useCallback(j=>{P(!1),b?.(j)},[b]),$=[d,!m||g?"sr-only":""].filter(Boolean).join(" ");return t.jsxs("div",{className:x,children:[a&&t.jsxs("label",{htmlFor:E,className:$,children:[a,o&&t.jsx("span",{"aria-hidden":"true",children:" *"})]}),t.jsx(R,{variant:"solid",triggers:"controlled",active:I,duration:c,borderWidth:y,borderRadius:f,color:"var(--color-accent)",innerClassName:`!bg-transparent !border-transparent p-0 ${f}`,children:t.jsxs("div",{className:"relative",children:[t.jsxs("select",{id:E,name:e,required:o,"aria-required":o||void 0,"aria-describedby":i,className:`form-field appearance-none pr-10 ${s}`.trim(),onFocus:T,onBlur:z,...h,children:[u&&t.jsx("option",{value:"",className:"form-option",disabled:!0,children:u}),r.map(j=>t.jsx("option",{value:j.value,className:"form-option",children:j.label},j.value))]}),t.jsx("svg",{"aria-hidden":"true",className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("polyline",{points:"6,9 12,15 18,9"})})]})})]})}function J({label:e,description:a,value:o,options:r,onChange:u,id:x}){const d=l.useId(),s=x??d,m=a?`${s}-description`:void 0,g=i=>{u(i.target.value)};return t.jsxs("div",{className:"mb-6 space-y-3",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{className:"block font-semibold text-heading",htmlFor:s,id:`${s}-label`,children:e}),a&&t.jsx("p",{id:m,className:"text-sm text-text",children:a})]}),t.jsx(Y,{id:s,name:s,label:e,showLabel:!1,value:o,options:r,"aria-describedby":m,placeholder:"",onChange:g})]})}function S({label:e,description:a,value:o,options:r,onChange:u}){const x=l.useId();return t.jsxs("div",{className:"mb-6",role:"group","aria-labelledby":x,children:[t.jsx("label",{id:x,className:"block font-semibold text-heading mb-2",children:e}),a&&t.jsx("p",{className:"text-sm text-text mb-3",children:a}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(d=>{const s=d.value===o;return t.jsx(N,{type:"button",onClick:()=>u(d.value),variant:s?"primary":"secondary","aria-pressed":s,children:d.label},d.value)})})]})}function X(){const[e,a]=l.useState(!1),o=l.useRef(null),r=l.useRef(null),{currentLanguage:u,hasFunctionalConsent:x,requiresConsent:d,supportedLanguages:s,changeLanguage:m}=D();l.useEffect(()=>{function i(c){o.current&&r.current&&!o.current.contains(c.target)&&!r.current.contains(c.target)&&a(!1)}if(e)return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[e]),l.useEffect(()=>{function i(c){c.key==="Escape"&&e&&(a(!1),r.current?.focus())}if(e)return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]);const g=i=>{const c=m(i);if(!c.success&&c.error){alert(c.error);return}a(!1)};return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{ref:r,type:"button",onClick:()=>a(!e),className:"language-switcher-button notranslate","aria-expanded":e,"aria-haspopup":"listbox","aria-label":"Choose language",title:x?"Choose language":"Enable functional cookies to change language",children:[u.flag&&t.jsx("span",{className:"text-xl leading-none notranslate","aria-hidden":"true",children:u.flag}),t.jsx("span",{className:"notranslate",children:u.nativeName}),t.jsx("svg",{className:`w-4 h-4 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{ref:o,className:"language-dropdown",role:"listbox","aria-hidden":!e,"aria-label":"Available languages",children:[d&&t.jsx("div",{className:"px-4 py-3 bg-yellow-50 border-b border-yellow-200 text-sm text-yellow-800",children:"Enable functional cookies to use translation"}),s.map(i=>t.jsxs("button",{type:"button",role:"option","aria-selected":i.code===u.code,className:"language-option notranslate",onClick:()=>g(i.code),disabled:d&&i.code!=="en",style:d&&i.code!=="en"?{opacity:.5,cursor:"not-allowed"}:void 0,children:[i.flag&&t.jsx("span",{className:"language-option-flag notranslate","aria-hidden":"true",children:i.flag}),t.jsxs("div",{className:"language-option-text",children:[t.jsx("div",{className:"notranslate",children:i.nativeName}),t.jsx("div",{className:"language-option-native notranslate",children:i.name})]}),i.code===u.code&&t.jsx("svg",{className:"w-5 h-5 text-primary shrink-0",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},i.code))]})]})}function K({isOpen:e,onClose:a}){const{preferences:o,setPreferences:r,resetPreferences:u}=V(),[x,d]=l.useTransition(),[s,m]=l.useState(o);l.useEffect(()=>{m(o)},[o]);const g=(n,b)=>{m(h=>({...h,text:{...h.text,[n]:b}}))},i=(n,b)=>{m(h=>({...h,visual:{...h.visual,[n]:b}}))},c=(n,b)=>{m(h=>({...h,reading:{...h.reading,[n]:b}}))},y=(n,b)=>{m(h=>({...h,content:{...h.content,[n]:b}}))},f=()=>{console.log("ðŸ’¾ Saving preferences"),r({...s,timestamp:Date.now(),version:"1.0"}),d(()=>{a()})},v=()=>{console.log("ðŸ”„ Resetting preferences"),u(),m(o),d(()=>{a()})};return t.jsxs(W,{isOpen:e,onClose:a,closeButton:!0,className:"bg-bg rounded-lg p-8 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",overlayClass:"bg-black/50",ariaLabel:"Reading preferences",ssr:!1,children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Reading Preferences"}),t.jsx("p",{className:"text-sm text-text",children:"Customize how content appears on this site. These preferences are saved locally and sync across tabs."})]}),t.jsx(w,{title:"Language",children:t.jsx(X,{})}),t.jsxs(w,{title:"Text & Typography",children:[t.jsx(C,{label:"Font Size",description:"Adjust the size of text throughout the site",value:s.text.fontSize,min:100,max:200,step:10,suffix:"%",onChange:n=>g("fontSize",n)}),t.jsx(C,{label:"Line Height",description:"Spacing between lines of text",value:s.text.lineHeight,min:1.5,max:2.5,step:.1,onChange:n=>g("lineHeight",n)}),t.jsx(C,{label:"Letter Spacing",description:"Space between individual letters",value:s.text.letterSpacing,min:0,max:.3,step:.05,suffix:"em",onChange:n=>g("letterSpacing",n)}),t.jsx(C,{label:"Word Spacing",description:"Space between words",value:s.text.wordSpacing,min:0,max:.5,step:.1,suffix:"em",onChange:n=>g("wordSpacing",n)}),t.jsx(J,{label:"Font Family",description:"Choose a font that's easier for you to read",value:s.text.fontFamily,options:[{value:"default",label:"Site Default"},{value:"dyslexia",label:"Dyslexia-Friendly (OpenDyslexic)"},{value:"readable",label:"High Readability (Verdana)"}],onChange:n=>g("fontFamily",n)}),t.jsx(S,{label:"Font Weight",value:s.text.fontWeight,options:[{value:"normal",label:"Normal"},{value:"semibold",label:"Semibold"},{value:"bold",label:"Bold"}],onChange:n=>g("fontWeight",n)}),t.jsx(S,{label:"Text Alignment",value:s.text.textAlign,options:[{value:"left",label:"Left"},{value:"justify",label:"Justify"}],onChange:n=>g("textAlign",n)})]}),t.jsxs(w,{title:"Visual Enhancements",children:[t.jsx(p,{label:"Highlight Links",description:"Add background color to all clickable links",checked:s.visual.linkHighlight,onChange:n=>i("linkHighlight",n)}),t.jsx(p,{label:"Highlight Headings",description:"Emphasize page headings with background and border",checked:s.visual.titleHighlight,onChange:n=>i("titleHighlight",n)}),t.jsx(p,{label:"Boost Contrast",description:"Slightly increase overall contrast (may make colors more vibrant)",checked:s.visual.contrastBoost,onChange:n=>i("contrastBoost",n)}),t.jsx(S,{label:"Color Saturation",value:s.visual.saturation,options:[{value:"normal",label:"Normal"},{value:"low",label:"Low"},{value:"high",label:"High"},{value:"monochrome",label:"Grayscale"}],onChange:n=>i("saturation",n)})]}),t.jsxs(w,{title:"Reading Aids",children:[t.jsx(p,{label:"Reading Guide",description:"Horizontal line that follows your cursor to help track lines",checked:s.reading.readingGuide,onChange:n=>c("readingGuide",n)}),t.jsx(p,{label:"Reading Mask",description:"Dim the page except for the area around your cursor",checked:s.reading.readingMask,onChange:n=>c("readingMask",n)}),t.jsx(p,{label:"Focus Highlighting",description:"Add strong outline to focused elements for easier keyboard navigation",checked:s.reading.focusHighlight,onChange:n=>c("focusHighlight",n)}),t.jsx(p,{label:"Big Cursor",description:"Increase cursor size for better visibility",checked:s.reading.bigCursor,onChange:n=>c("bigCursor",n)}),t.jsx(p,{label:"Pause Animations",description:"Stop all animations and auto-playing content",checked:s.reading.pauseAnimations,onChange:n=>c("pauseAnimations",n)})]}),t.jsxs(w,{title:"Content Simplification",children:[t.jsx(p,{label:"Hide Images",description:"Replace images with their text descriptions",checked:s.content.hideImages,onChange:n=>y("hideImages",n)}),t.jsx(p,{label:"Mute Sounds",description:"Hide all audio and video elements",checked:s.content.muteSounds,onChange:n=>y("muteSounds",n)}),t.jsx(p,{label:"Reduce Motion",description:"Minimize all animations and transitions (recommended for vestibular disorders)",checked:s.content.reducedMotion,onChange:n=>y("reducedMotion",n)})]}),t.jsxs("div",{className:"text-xs text-text mt-8 p-4 bg-text/5 rounded-lg border border-surface",children:[t.jsx("p",{className:"font-semibold mb-2",children:"ðŸ“Œ Important Information:"}),t.jsxs("ul",{className:"space-y-1.5 list-disc list-inside",children:[t.jsx("li",{children:"These preferences only change how content appears to you visually"}),t.jsx("li",{children:"They don't affect the underlying accessibility of the site"}),t.jsx("li",{children:"If you use screen readers or assistive technology, those will continue working normally"}),t.jsx("li",{children:"Settings are saved in your browser and sync across tabs automatically"}),t.jsxs("li",{children:["For accessibility support, please"," ",t.jsx(N,{variant:"link",size:"sm",href:"/contact",children:"contact us"})]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx(N,{variant:"secondary",onClick:v,disabled:x,className:"flex-1",children:"Reset All"}),t.jsx(N,{variant:"primary",onClick:f,disabled:x,className:"flex-1",children:"Save Preferences"})]})]})}const ce=l.memo(K);export{ce as default};
