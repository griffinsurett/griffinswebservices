import{r as u,j as t}from"./react-core.LlkHSr3O.js";import{M as L}from"./Modal.B8WZ_q5T.js";import{I as f}from"./ui-primitives.BKGTeMpG.js";import{u as B}from"./theme-accent.D2QTiIhh.js";import{u as R,L as I}from"./theme-language.BLbd6WVe.js";/* empty css                                   */import"./visibility-hooks.DxJd0gvu.js";import"./scroll-observer.BBND9qH0.js";import"./theme-shared.DL3Cz1g2.js";const w={text:{fontSize:100,lineHeight:1.5,letterSpacing:0,wordSpacing:0,fontFamily:"default",fontWeight:"normal",textAlign:"left"},visual:{linkHighlight:!1,titleHighlight:!1,contrastBoost:!1,saturation:"normal"},reading:{readingGuide:!1,readingMask:!1,focusHighlight:!1,bigCursor:!1,pauseAnimations:!1},content:{hideImages:!1,muteSounds:!1,reducedMotion:!1},timestamp:Date.now(),version:"1.0"},N={normal:"400",semibold:"600",bold:"700"};let p=null,h=null;function z(){if(!p&&(p=e=>{const i=document.querySelector("[data-reading-guide]");i&&(i.style.top=`${e.clientY}px`)},document.addEventListener("mousemove",p,{passive:!0}),!document.querySelector("[data-reading-guide]"))){const e=document.createElement("div");e.setAttribute("data-reading-guide","true"),e.style.cssText=`
      position: fixed;
      left: 0;
      right: 0;
      height: 2px;
      background-color: rgba(255, 0, 0, 0.6);
      pointer-events: none;
      z-index: 9999;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.4);
    `,document.body.appendChild(e)}}function S(){p&&(document.removeEventListener("mousemove",p),p=null);const e=document.querySelector("[data-reading-guide]");e&&e.remove()}function F(){h||(h=e=>{document.documentElement.style.setProperty("--cursor-x",`${e.clientX}px`),document.documentElement.style.setProperty("--cursor-y",`${e.clientY}px`)},document.addEventListener("mousemove",h,{passive:!0}))}function C(){h&&(document.removeEventListener("mousemove",h),h=null)}const j=new WeakMap;function $(){document.querySelectorAll("img:not([data-a11y-hidden])").forEach(a=>{const n=a.alt||"Image",o=document.createElement("div");o.className="a11y-image-placeholder",o.setAttribute("data-a11y-placeholder","true"),o.setAttribute("role","img"),o.setAttribute("aria-label",n),o.style.cssText=`
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100px;
      padding: 1em;
      background: #f0f0f0;
      border: 2px dashed #999;
      border-radius: 4px;
      text-align: center;
    `;const l=document.createElement("span");l.style.cssText=`
      font-style: italic;
      color: #666;
      padding: 0.5em 1em;
      background: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    `,l.textContent=`ðŸ“· ${n}`,o.appendChild(l),a.setAttribute("data-a11y-hidden","true"),j.set(o,a),a.parentNode?.insertBefore(o,a),a.style.display="none"}),document.querySelectorAll(".logo-class:not([data-a11y-hidden])").forEach(a=>{const n=a.getAttribute("aria-label")||"Animation",o=document.createElement("div");o.className="a11y-image-placeholder",o.setAttribute("data-a11y-placeholder","true"),o.setAttribute("role","img"),o.setAttribute("aria-label",n),o.style.cssText=`
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 40px;
      min-width: 40px;
      padding: 0.5em;
      background: #f0f0f0;
      border: 2px dashed #999;
      border-radius: 4px;
      text-align: center;
    `;const l=document.createElement("span");l.style.cssText=`
      font-style: italic;
      color: #666;
      padding: 0.25em 0.5em;
      background: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 10px;
    `,l.textContent=`ðŸŽ¬ ${n}`,o.appendChild(l),a.setAttribute("data-a11y-hidden","true"),j.set(o,a),a.parentNode?.insertBefore(o,a),a.style.display="none"})}function T(){document.querySelectorAll("[data-a11y-placeholder]").forEach(i=>{const a=j.get(i);a&&(a.style.display="",a.removeAttribute("data-a11y-hidden"),i.remove(),j.delete(i))}),document.querySelectorAll("[data-a11y-hidden]").forEach(i=>{i.style.display="",i.removeAttribute("data-a11y-hidden")})}function G(e){const i=document.documentElement,a=N[e.text.fontWeight]??N.normal;console.log("ðŸŽ¨ Applying accessibility preferences:",e),i.style.setProperty("--a11y-font-size",`${e.text.fontSize}%`),i.style.setProperty("--a11y-line-height",`${e.text.lineHeight}`),i.style.setProperty("--a11y-letter-spacing",`${e.text.letterSpacing}em`),i.style.setProperty("--a11y-word-spacing",`${e.text.wordSpacing}em`),i.style.setProperty("--a11y-font-weight",a),i.style.setProperty("--a11y-text-align",e.text.textAlign),i.setAttribute("data-a11y-font",e.text.fontFamily),e.text.lineHeight!==1.5?i.setAttribute("data-a11y-line-height","true"):i.removeAttribute("data-a11y-line-height"),e.text.letterSpacing!==0?i.setAttribute("data-a11y-letter-spacing","true"):i.removeAttribute("data-a11y-letter-spacing"),e.text.wordSpacing!==0?i.setAttribute("data-a11y-word-spacing","true"):i.removeAttribute("data-a11y-word-spacing"),e.text.fontWeight!=="normal"?i.setAttribute("data-a11y-font-weight",e.text.fontWeight):i.removeAttribute("data-a11y-font-weight"),e.text.textAlign!=="left"?i.setAttribute("data-a11y-text-align","true"):i.removeAttribute("data-a11y-text-align"),i.setAttribute("data-a11y-links",e.visual.linkHighlight?"true":"false"),i.setAttribute("data-a11y-titles",e.visual.titleHighlight?"true":"false"),i.setAttribute("data-a11y-contrast",e.visual.contrastBoost?"boost":"normal"),i.setAttribute("data-a11y-saturation",e.visual.saturation),i.setAttribute("data-a11y-focus",e.reading.focusHighlight?"true":"false"),i.setAttribute("data-a11y-cursor",e.reading.bigCursor?"big":"normal"),i.setAttribute("data-a11y-mask",e.reading.readingMask?"true":"false"),e.reading.pauseAnimations?(i.style.setProperty("--a11y-animation-duration","0.01ms"),i.setAttribute("data-a11y-animations","true")):(i.style.removeProperty("--a11y-animation-duration"),i.removeAttribute("data-a11y-animations")),e.reading.readingGuide?z():S(),e.reading.readingMask?F():C(),i.setAttribute("data-a11y-images",e.content.hideImages?"hide":"show"),e.content.hideImages?$():T(),i.setAttribute("data-a11y-sounds",e.content.muteSounds?"mute":"play"),i.setAttribute("data-a11y-motion",e.content.reducedMotion?"reduced":"normal"),console.log("âœ… Accessibility preferences applied successfully")}function D(){const e=document.documentElement;console.log("ðŸ§¹ Removing all accessibility preferences"),e.style.removeProperty("--a11y-font-size"),e.style.removeProperty("--a11y-line-height"),e.style.removeProperty("--a11y-letter-spacing"),e.style.removeProperty("--a11y-word-spacing"),e.style.removeProperty("--a11y-font-weight"),e.style.removeProperty("--a11y-text-align"),e.style.removeProperty("--a11y-animation-duration"),e.removeAttribute("data-a11y-font"),e.removeAttribute("data-a11y-line-height"),e.removeAttribute("data-a11y-letter-spacing"),e.removeAttribute("data-a11y-word-spacing"),e.removeAttribute("data-a11y-font-weight"),e.removeAttribute("data-a11y-text-align"),e.removeAttribute("data-a11y-links"),e.removeAttribute("data-a11y-titles"),e.removeAttribute("data-a11y-contrast"),e.removeAttribute("data-a11y-saturation"),e.removeAttribute("data-a11y-focus"),e.removeAttribute("data-a11y-cursor"),e.removeAttribute("data-a11y-mask"),e.removeAttribute("data-a11y-images"),e.removeAttribute("data-a11y-sounds"),e.removeAttribute("data-a11y-motion"),e.removeAttribute("data-a11y-animations"),S(),C(),T()}function W(){const[e,i]=B("user-a11y-prefs",w,{raw:!1,syncTabs:!0,validate:n=>!!(n&&typeof n=="object"&&"text"in n&&"visual"in n&&"reading"in n&&"content"in n)});return u.useEffect(()=>{console.log("ðŸ”„ Preferences changed, applying:",e),G(e)},[e]),{preferences:e,setPreferences:i,resetPreferences:()=>{console.log("ðŸ”„ Resetting to default preferences"),D(),i(w)}}}function q(){const[e,i]=u.useState(!1),a=u.useRef(null),{currentLanguage:n,hasFunctionalConsent:o}=R();return u.useEffect(()=>{if(!e)return;const l=r=>{a.current?.contains(r.target)||i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[e]),u.useEffect(()=>{function l(r){r.key==="Escape"&&e&&i(!1)}if(e)return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e]),t.jsxs("div",{ref:a,className:"relative inline-flex flex-col gap-1 w-full",children:[t.jsxs("button",{type:"button",onClick:()=>i(!e),className:["w-full bg-bg text-text rounded-xl border border-text/10 px-4 py-2","flex items-center justify-between gap-3 text-sm transition-all","hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40"].join(" "),"aria-expanded":e,"aria-haspopup":"listbox","aria-label":"Choose language",title:o?"Choose language":"Enable functional cookies to change language",children:[t.jsxs("div",{className:"flex items-center gap-3 text-left",children:[n.flag&&t.jsx("span",{className:"text-xl leading-none notranslate","aria-hidden":"true",children:n.flag}),t.jsxs("div",{className:"flex flex-col text-left leading-tight",children:[t.jsx("span",{className:"text-base font-semibold notranslate",children:n.nativeName}),t.jsx("span",{className:"text-xs text-text/70 notranslate",children:n.name})]})]}),t.jsx("svg",{className:`w-4 h-4 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx(I,{open:e,onClose:()=>i(!1),onLanguageChange:()=>{},className:"left-0 w-full"})]})}const V={title:"Griffin's Web Services"};function O({isOpen:e,onClose:i}){const{preferences:a,setPreferences:n,resetPreferences:o}=W(),[l,r]=u.useState(null),c=u.useCallback((s,m)=>{n(d=>({...d,text:{...d.text,[s]:m},timestamp:Date.now(),version:"1.0"}))},[n]),x=u.useCallback((s,m)=>{n(d=>({...d,visual:{...d.visual,[s]:m},timestamp:Date.now(),version:"1.0"}))},[n]),g=u.useCallback((s,m)=>{n(d=>({...d,reading:{...d.reading,[s]:m},timestamp:Date.now(),version:"1.0"}))},[n]),y=u.useCallback((s,m)=>{n(d=>({...d,content:{...d.content,[s]:m},timestamp:Date.now(),version:"1.0"}))},[n]),E=[{key:"fontSize",icon:"fa6:universal-access",label:"Bigger text",description:"Scale all copy for better legibility",min:100,max:200,step:10,value:a.text.fontSize,formatValue:s=>`${s}%`,onChange:s=>c("fontSize",s)},{key:"lineHeight",icon:"fa6:arrows-up-down-left-right",label:"Line height",description:"Add breathing room between lines",min:1.5,max:2.5,step:.1,value:a.text.lineHeight,formatValue:s=>s.toFixed(1),onChange:s=>c("lineHeight",s)},{key:"letterSpacing",icon:"fa6:feather",label:"Letter spacing",description:"Prevent characters from crowding",min:0,max:.3,step:.05,value:a.text.letterSpacing,formatValue:s=>`${s.toFixed(2)}em`,onChange:s=>c("letterSpacing",s)},{key:"wordSpacing",icon:"fa6:compass",label:"Word spacing",description:"Give each word clear separation",min:0,max:.5,step:.1,value:a.text.wordSpacing,formatValue:s=>`${s.toFixed(1)}em`,onChange:s=>c("wordSpacing",s)}],H=[{key:"linkHighlight",icon:"fa6:link",label:"Highlight links",description:"Add background to every link",active:a.visual.linkHighlight,onToggle:()=>x("linkHighlight",!a.visual.linkHighlight)},{key:"titleHighlight",icon:"fa6:layer-group",label:"Headline focus",description:"Accent headings with a pill",active:a.visual.titleHighlight,onToggle:()=>x("titleHighlight",!a.visual.titleHighlight)},{key:"contrastBoost",icon:"fa6:shield-halved",label:"Boost contrast",description:"Darken text and light backgrounds",active:a.visual.contrastBoost,onToggle:()=>x("contrastBoost",!a.visual.contrastBoost)}],P=[{key:"readingGuide",icon:"fa6:life-ring",label:"Reading guide",description:"Follow text with a subtle line",active:a.reading.readingGuide,onToggle:()=>g("readingGuide",!a.reading.readingGuide)},{key:"readingMask",icon:"fa6:eye",label:"Reading mask",description:"Dim everything except the focus area",active:a.reading.readingMask,onToggle:()=>g("readingMask",!a.reading.readingMask)},{key:"focusHighlight",icon:"fa6:bullseye",label:"Focus outline",description:"Thick border for tab focus",active:a.reading.focusHighlight,onToggle:()=>g("focusHighlight",!a.reading.focusHighlight)},{key:"bigCursor",icon:"fa6:robot",label:"Big cursor",description:"Increase pointer visibility",active:a.reading.bigCursor,onToggle:()=>g("bigCursor",!a.reading.bigCursor)},{key:"pauseAnimations",icon:"fa6:clock-rotate-left",label:"Pause motion",description:"Stop autoplay and animations",active:a.reading.pauseAnimations,onToggle:()=>g("pauseAnimations",!a.reading.pauseAnimations)}],M=[{key:"hideImages",icon:"lu:image",label:"Hide images",description:"Replace visuals with alt text",active:a.content.hideImages,onToggle:()=>y("hideImages",!a.content.hideImages)},{key:"muteSounds",icon:"fa6:headset",label:"Mute sounds",description:"Silence audio & video elements",active:a.content.muteSounds,onToggle:()=>y("muteSounds",!a.content.muteSounds)},{key:"reducedMotion",icon:"fa6:wand-magic-sparkles",label:"Reduce motion",description:"Shorter transitions and fades",active:a.content.reducedMotion,onToggle:()=>y("reducedMotion",!a.content.reducedMotion)}];return t.jsx(L,{isOpen:e,onClose:i,closeButton:!1,allowScroll:!0,ariaLabel:"Accessibility preferences",position:"bottom-right",overlayClass:"bg-transparent",className:"p-0 max-w-[420px] w-full",ssr:!1,children:t.jsxs("div",{className:"a11y-modal-shell",children:[t.jsx("div",{className:"primary-gradient px-6 py-4 text-bg flex-shrink-0",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"shrink-0",children:t.jsx(f,{icon:"fa6:universal-access",size:"lg",className:"text-bg"})}),t.jsx("div",{children:t.jsx("h2",{className:"text-xl font-bold leading-snug",children:"Accessibility"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{type:"button",onMouseEnter:()=>r("reset"),onMouseLeave:()=>r(null),onFocus:()=>r("reset"),onBlur:()=>r(null),onClick:o,className:"a11y-header-action relative","aria-label":"Reset preferences",children:[t.jsx(f,{icon:"fa6:rotate-left",size:"sm",className:"text-bg"}),t.jsx("span",{className:`absolute -bottom-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-full bg-bg text-text text-[10px] tracking-wide px-2 py-1 shadow-md transition-opacity ${l==="reset"?"opacity-100":"opacity-0 pointer-events-none"}`,children:"Reset"})]}),t.jsxs("button",{type:"button",onMouseEnter:()=>r("close"),onMouseLeave:()=>r(null),onFocus:()=>r("close"),onBlur:()=>r(null),onClick:i,"aria-label":"Close accessibility menu",className:"a11y-header-action relative",children:[t.jsx(f,{icon:"fa6:xmark",size:"md",className:"text-bg"}),t.jsx("span",{className:`absolute -bottom-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-full bg-bg text-text text-[10px] tracking-wide px-2 py-1 shadow-md transition-opacity ${l==="close"?"opacity-100":"opacity-0 pointer-events-none"}`,children:"Close"})]})]})]}),t.jsxs("p",{className:"text-sm text-bg/80 max-w-sm",children:["Fine-tune how ",V.title," displays information."]})]})}),t.jsxs("div",{className:"a11y-scroll-region w-full mx-auto",children:[t.jsxs("div",{className:"a11y-card a11y-card--spacious",children:[t.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-text/70",children:"Language"}),t.jsx("div",{className:"mt-3",children:t.jsx(q,{})})]}),t.jsxs(b,{title:"Text",description:"Adjust typography for clarity and pace.",children:[t.jsx("div",{className:"space-y-3",children:E.map(s=>t.jsx(_,{...s},s.key))}),t.jsxs("div",{className:"space-y-3 pt-2",children:[t.jsx(v,{icon:"fa6:palette",label:"Readable fonts",description:"Choose the type styles that work best.",value:a.text.fontFamily,options:[{value:"default",label:"Default"},{value:"readable",label:"Readable"},{value:"dyslexia",label:"Dyslexia"}],onChange:s=>c("fontFamily",s)}),t.jsx(v,{icon:"fa6:scale-balanced",label:"Font weight",description:"Balance thickness and emphasis.",value:a.text.fontWeight,options:[{value:"normal",label:"Normal"},{value:"semibold",label:"Medium"},{value:"bold",label:"Bold"}],onChange:s=>c("fontWeight",s)}),t.jsx(v,{icon:"fa6:file-lines",label:"Text alignment",description:"Keep lines left or fully justified.",value:a.text.textAlign,options:[{value:"left",label:"Left"},{value:"justify",label:"Justify"}],onChange:s=>c("textAlign",s)})]})]}),t.jsxs(b,{title:"Visual",description:"Elevate color, contrast, and highlights.",children:[t.jsx("div",{className:"grid grid-cols-1 gap-3",children:t.jsx(v,{icon:"fa6:palette",label:"Color mode",description:"Pick a saturation style.",value:a.visual.saturation,options:[{value:"normal",label:"Normal"},{value:"low",label:"Low"},{value:"high",label:"High"},{value:"monochrome",label:"Gray"}],onChange:s=>x("saturation",s)})}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:H.map(s=>t.jsx(k,{...s},s.key))})]}),t.jsx(b,{title:"Reading aids",description:"Guide focus and reduce overload.",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:P.map(s=>t.jsx(k,{...s},s.key))})}),t.jsx(b,{title:"Content filters",description:"Simplify visuals and motion-heavy elements.",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:M.map(s=>t.jsx(k,{...s},s.key))})}),t.jsx("div",{className:"rounded-2xl border border-dashed border-surface/70 bg-surface/40 p-4 text-xs text-text/70",children:"Preferences save instantly in your browser and sync across tabs. These adjustments change visual presentation onlyâ€”assistive technologies continue working as expected."})]})]})})}function b({title:e,description:i,children:a}){return t.jsxs("section",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-heading",children:e}),i&&t.jsx("p",{className:"text-xs text-text/70",children:i})]}),a]})}function _({icon:e,label:i,description:a,value:n,min:o,max:l,step:r=1,formatValue:c,onChange:x}){const g=c?c(n):`${n}`;return t.jsxs("div",{className:"a11y-card a11y-card--compact",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(A,{icon:e,size:"md"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-heading",children:i}),a&&t.jsx("p",{className:"text-xs text-text/70",children:a})]})]}),t.jsx("span",{className:"text-sm font-semibold text-heading",children:g})]}),t.jsx("input",{type:"range",min:o,max:l,step:r,value:n,onChange:y=>x(Number(y.target.value)),className:"a11y-slider","aria-label":i})]})}function k({icon:e,label:i,description:a,active:n,onToggle:o}){const l=["a11y-toggle",n?"a11y-toggle--active":"a11y-toggle--idle"].filter(Boolean).join(" ");return t.jsx("button",{type:"button",onClick:o,className:l,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(A,{icon:e,active:n}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-heading",children:i}),a&&t.jsx("p",{className:"text-xs text-text/70",children:a})]})]})})}function v({icon:e,label:i,description:a,value:n,options:o,onChange:l}){return t.jsxs("div",{className:"a11y-card a11y-card--compact",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(A,{icon:e,size:"md"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-heading",children:i}),a&&t.jsx("p",{className:"text-xs text-text/70",children:a})]})]}),t.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:o.map(r=>{const c=n===r.value;return t.jsxs("button",{type:"button",onClick:()=>l(r.value),className:`flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-xs font-semibold transition ${c?"border-primary/60 bg-primary/10 text-primary":"border-transparent card-bg text-text hover:border-primary/40"}`,children:[r.icon&&t.jsx(f,{icon:r.icon,size:"sm",className:"text-current"}),r.label]},r.value)})})]})}function A({icon:e,active:i=!1,size:a="sm"}){const n={sm:"icon-small",md:"icon-medium",lg:"icon-large"},o={sm:"sm",md:"md",lg:"lg"},l=["inline-flex items-center justify-center rounded-2xl transition-all",n[a],i?"card-icon-color":"card-bg text-primary"].filter(Boolean).join(" ");return t.jsx("span",{className:l,children:t.jsx(f,{icon:e,size:o[a],className:"text-current"})})}const ae=u.memo(O);export{ae as default};
