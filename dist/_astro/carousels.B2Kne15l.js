import{j as e,r as n}from"./react-core.INjS0cla.js";import{A as le,I as Ce,a as ue}from"./ui-primitives.P-gmpKz6.js";import{a as me,u as ge,b as pe}from"./engagement-hooks.v4JXHiGt.js";import{a as Me,s as xe}from"./accordion.BMdzwghl.js";import{u as ve}from"./visibility-hooks.DZepR28d.js";function ie({tagName:t="h2",className:r="",before:d,text:a,after:g,beforeClass:s="",textClass:w="",afterClass:j="",beforeId:C,textId:u,afterId:l,beforeProps:p,textProps:i,afterProps:$,segmented:M,children:k,...o}){const y=typeof t=="string"?t.toLowerCase():"h2",A=["h1","h2","h3","h4","h5","h6"].includes(y),O=/\bh[1-6]\b/.test(r)||!A?r:`${y} ${r}`.trim(),f=d!==void 0||a!==void 0||g!==void 0,v=M!=null,c=(S,L,z)=>{const E=z??{},W=[L,E.className].filter(Boolean).join(" ");return{id:S??E.id,...E,className:W||void 0}},b=t;return e.jsx(b,{className:`${O} capitalize`,...o,children:v?e.jsxs(e.Fragment,{children:[M?.before!==void 0&&e.jsx("span",{...c(C,s,p),children:`${M.before} `}),M?.text!==void 0&&e.jsx("span",{...c(u,w,i),children:`${M.text} `}),M?.after!==void 0&&e.jsx("span",{...c(l,j,$),children:M.after})]}):f?e.jsxs(e.Fragment,{children:[d!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...c(C,s,p),children:d})," "]}),a!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...c(u,w,i),children:a})," "]}),g!==void 0&&e.jsx("span",{...c(l,j,$),children:g})]}):k})}function st({children:t,className:r="",duration:d=1200,hoverSweep:a=!0,pillClassName:g="text-sm px-5 py-2.5 tracking-wider",visibleRootMargin:s}){return e.jsx("div",{className:"inline-block mb-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx(le,{variant:"progress-b-f",triggers:"visible",duration:d,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-primary)",className:"inline-block",innerClassName:`bg-transparent border-transparent ${g}`,visibleRootMargin:s,children:e.jsx(ie,{tagName:"span",className:`uppercase tracking-wider font-semibold text-heading ${r}`,children:e.jsx("span",{"data-animate":"color-text-fade","data-animate-once":"true",className:"color-text-fade",style:{"--animation-duration":`${d}ms`},children:t})})}),a&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx(le,{variant:"progress-infinite",triggers:"hover",duration:1200,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-accent)",className:"w-full h-full",innerClassName:"bg-transparent border-transparent px-0 py-0 pointer-events-none",children:e.jsx("span",{className:"sr-only",children:"Decorative border sweep"})})})]})})}function be({ref:t,active:r=!0,resumeScheduled:d=!1}){const[a,g]=n.useState(!1),s=n.useRef(!1),w=n.useCallback(()=>{g(!0)},[]);return n.useEffect(()=>{r||g(!1)},[r]),n.useEffect(()=>{s.current&&!d&&g(!1),s.current=d},[d]),n.useEffect(()=>{if(a||!r)return;const j=t.current;if(j)return j.style.pointerEvents="none",()=>{j.style.pointerEvents=""}},[t,a,r]),{enabled:a,enableScroll:w}}function V(t){return t?typeof t=="string"?t.startsWith("@/")?t.replace("@/","/src/"):t:t.src?typeof t.src=="string"?t.src:t.src.src?t.src.src:t.src:"":""}const de=700,we=14,ne=we*1e3,fe=28,$e=4,Ee=220,Ae=16,_e=2200,Le=450,Oe=750,Ie="portfolio-showcase:ready",ke=800;function ze({item:t,mediaEntry:r,totalSlides:d,onCycleComplete:a,isActive:g}){const s=n.useRef(null),[w,j]=n.useState(!1),[C,u]=n.useState(!1),[l,p]=n.useState(!1),[i,$]=n.useState(ne);n.useEffect(()=>{j(!0)},[]);const M=n.useCallback(f=>{const v=Math.max(0,f.scrollHeight-f.clientHeight);if(v<=0)return 0;const c=v/we;return!Number.isFinite(c)||c<=0?fe:Math.max(fe,c)},[]),k=n.useCallback(f=>{const v=Math.max(0,f.scrollHeight-f.clientHeight);if(v<=0)return ne;const c=M(f);if(c<=0)return ne;const b=Math.round(v/c*1e3);return!Number.isFinite(b)||b<=0?ne:Math.max(ne,b)},[M]),o=me({ref:s,active:g&&l,speed:M,loop:!1,startDelay:de,resumeDelay:600,resumeOnUserInput:!0,threshold:.05,resetOnInactive:!1}),{enabled:y,enableScroll:A}=be({ref:s,active:g,resumeScheduled:o.resumeScheduled});n.useEffect(()=>{g&&(o.resetPosition(0),s.current?.scrollTo({top:0,left:0,behavior:"auto"}))},[g,o.resetPosition]),n.useEffect(()=>{if(!w)return;const f=s.current;if(!f)return;const v=f.querySelector("picture img")??f.querySelector("img");if(!v){u(!1);return}if(v.complete&&v.naturalHeight>0){u(!0);return}u(!1);const c=()=>u(!0);return v.addEventListener("load",c,{once:!0}),v.addEventListener("error",c,{once:!0}),()=>{v.removeEventListener("load",c),v.removeEventListener("error",c)}},[t,r,w]),n.useEffect(()=>{if(!C){p(!1);return}const f=s.current;if(!f)return;let v=!1,c=null;const b=()=>Math.max(0,f.scrollHeight-f.clientHeight)>$e,S=()=>{v||(v=!0,c?.(),c=null,p(!0))},L=()=>{if(typeof ResizeObserver>"u"){S();return}let E=null,W=f.scrollHeight;const P=()=>{E||(E=window.setTimeout(()=>{E=null,S()},Ee))},Y=()=>{E&&(window.clearTimeout(E),E=null)},U=new ResizeObserver(()=>{const H=f.scrollHeight;Math.abs(H-W)>Ae&&(W=H,Y()),P()});U.observe(f),P(),c=()=>{U.disconnect(),E&&(window.clearTimeout(E),E=null)}};if(b())L();else if(typeof ResizeObserver<"u"){const E=new ResizeObserver(()=>{b()&&(E.disconnect(),L())});E.observe(f),c=()=>E.disconnect()}else S();const z=window.setTimeout(S,_e);return()=>{c?.(),window.clearTimeout(z)}},[C]),n.useEffect(()=>{if(!l||!g){$(ne);return}const f=s.current;if(!f)return;const v=()=>$(k(f));v();const c=typeof ResizeObserver<"u"?new ResizeObserver(()=>v()):null;return c?.observe(f),()=>c?.disconnect()},[l,g,k]),n.useEffect(()=>{if(!l||!g||d<=1||o.paused)return;const f=de+i+Le,v=window.setTimeout(()=>a(),f);return()=>window.clearTimeout(v)},[g,l,a,i,d,o.paused]);const x=V(t.featuredImage)||V(t.bannerImage)||V(t.image)||"",O=()=>w?r?.sources?.length?e.jsxs("picture",{children:[r.sources.map((f,v)=>e.jsx("source",{srcSet:f.srcSet,sizes:f.sizes??r.sizes,type:f.type},`${t.slug??t.id??v}-source-${v}`)),e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||t.alt||t.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"})]}):r?.src?e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||t.alt||t.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):x?e.jsx("img",{src:x,alt:t.alt||t.title||"Project preview",loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80 text-white/30",children:"Preview coming soon"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80"});return e.jsx("div",{className:"relative h-full w-full",onClick:A,children:e.jsxs("div",{className:"relative h-full",children:[e.jsx("div",{className:"flex flex-col gap-3 border-b border-white/10 px-4 py-3 text-white/70 sm:flex-row sm:items-center sm:justify-between",children:e.jsx("div",{className:"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/50",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"})]})})}),e.jsx("figure",{ref:s,className:`relative h-full overflow-y-scroll bg-black/40 ${y?"overscroll-contain touch-pan-y":"touch-none"}`,style:{WebkitOverflowScrolling:y?"touch":"auto",overscrollBehaviorY:y?"contain":"none"},children:O()})]})})}function at({items:t=[],className:r="",mediaEntries:d=[]}){const a=n.useMemo(()=>Array.isArray(t)?t:[],[t]),g=n.useMemo(()=>Array.isArray(d)?d:[],[d]),[s,w]=n.useState(0),[j,C]=n.useState(null),[u,l]=n.useState("idle"),p=n.useRef(null),i=n.useRef(null),$=n.useRef(!1);n.useEffect(()=>{if(!a.length||$.current)return;$.current=!0;const y=window.setTimeout(()=>{window.dispatchEvent(new CustomEvent(Ie))},ke);return()=>window.clearTimeout(y)},[a.length]),n.useEffect(()=>{if(!a.length){w(0),C(null),l("idle");return}w(y=>y>=a.length?0:y)},[a.length]),n.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null),i.current&&(cancelAnimationFrame(i.current),i.current=null)},[]);const M=n.useCallback(y=>{typeof window>"u"||(C(s),w(y),l("pre"),i.current&&(cancelAnimationFrame(i.current),i.current=null),i.current=requestAnimationFrame(()=>{i.current=requestAnimationFrame(()=>{l("animating")})}),p.current&&(window.clearTimeout(p.current),p.current=null),p.current=window.setTimeout(()=>{l("idle"),C(null)},Oe))},[s]),k=n.useCallback(()=>{if(!a.length||a.length<=1||u!=="idle")return;const y=(s+1)%a.length;M(y)},[s,a.length,M,u]);if(!a.length)return null;const o="absolute inset-0 transition-transform transition-opacity duration-[750ms] ease-[cubic-bezier(0.4,0,0.2,1)]";return e.jsx("div",{className:`relative h-full ${r}`.trim(),children:e.jsx("div",{className:"relative h-full w-full overflow-hidden card-bg-2 rounded-lg",children:a.map((y,A)=>{const x=A===s,O=A===j,f=x||O&&u!=="idle";if(!(x||O&&u!=="idle"))return null;let c="translate-x-full";return O&&u!=="idle"?c="-translate-x-full":x&&(u==="idle"||j===null?c="translate-x-0":u==="pre"?c="translate-x-full":c="translate-x-0"),e.jsx("div",{className:`${o} shadow-2xl ${c} ${f?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":x?"false":"true",children:e.jsx(ze,{item:y,mediaEntry:g[A],totalSlides:a.length||1,onCycleComplete:k,isActive:x&&u==="idle"})},y.slug??y.id??A)})})})}const oe=1500,ye=30,X=ye*1e3,He=X*4,he=18,De=60,Pe=3e3,Fe=6,We=260,Be=18;function Ue({item:t,i:r,activeIndex:d,itemsLength:a,centerW:g,centerH:s,sideW:w,sideH:j,tx:C,onSelect:u,mediaEntry:l}){const p=n.useRef(null),i=r-d,[$,M]=n.useState(!1),[k,o]=n.useState(!1),[y,A]=n.useState(X),x=i===0,O=n.useMemo(()=>i===0?"center":i===-1||i===a-1?"left":i===1||i===-(a-1)?"right":"hidden",[i,a]),f=x?"translate(-50%, 0)":"translate(-50%, -50%)",v=n.useCallback(h=>{const T=Math.max(0,h.scrollHeight-h.clientHeight);if(T<=0)return 0;const R=T/ye;return!Number.isFinite(R)||R<=0?he:Math.min(De,Math.max(he,R))},[]),c=n.useCallback(h=>{const T=Math.max(0,h.scrollHeight-h.clientHeight);if(T<=0)return X;const R=v(h);if(R<=0)return X;const m=Math.round(T/R*1e3);return!Number.isFinite(m)||m<=0?X:Math.min(He,Math.max(X,m))},[v]),b=me({ref:p,active:x&&$,speed:v,loop:!1,startDelay:oe,resumeDelay:900,resumeOnUserInput:!0,threshold:.1,resetOnInactive:!0}),{enabled:S,enableScroll:L}=be({ref:p,active:x,resumeScheduled:b.resumeScheduled}),[z,E]=n.useState(0);n.useEffect(()=>{if(!x)return;let h=null;const T=()=>{const R=p.current;if(R){const m=Math.max(0,R.scrollHeight-R.clientHeight),N=m>0?R.scrollTop/m*100:0;E(Math.round(N))}h=requestAnimationFrame(T)};return h=requestAnimationFrame(T),()=>{h&&cancelAnimationFrame(h)}},[x]),n.useEffect(()=>{if(!x||!k){M(!1),A(X);return}const h=p.current;if(!h)return;let T=!1,R=null;const m=()=>Math.max(0,h.scrollHeight-h.clientHeight)>Fe,N=()=>{T||(T=!0,R?.(),R=null,M(!0))},q=()=>{if(typeof ResizeObserver>"u"){N();return}let B=null,ee=h.scrollHeight;const se=()=>{B||(B=window.setTimeout(()=>{B=null,N()},We))},_=()=>{B&&(window.clearTimeout(B),B=null)},I=new ResizeObserver(()=>{const F=h.scrollHeight;Math.abs(F-ee)>Be&&(ee=F,_()),se()});I.observe(h),se(),R=()=>{I.disconnect(),B&&(window.clearTimeout(B),B=null)}};let D=null;m()?q():typeof ResizeObserver<"u"?(D=new ResizeObserver(()=>{m()&&(D?.disconnect(),D=null,q())}),D.observe(h)):N();const re=window.setTimeout(()=>{N()},Pe);return()=>{D?.disconnect(),R?.(),re&&window.clearTimeout(re)}},[x,k]),n.useEffect(()=>{if(!x||!$){A(X);return}const h=p.current;if(!h)return;const T=()=>{A(c(h))};T();const R=typeof ResizeObserver<"u"?new ResizeObserver(()=>T()):null;return R?.observe(h),()=>R?.disconnect()},[x,$,c]),n.useEffect(()=>{if(!x||!$||typeof window>"u")return;const h=p.current;if(!h)return;const T=N=>{h.dispatchEvent(new CustomEvent("autoscroll-user",{bubbles:!0,detail:{phase:N}}))},R=window.setTimeout(()=>{T("start")},oe),m=window.setTimeout(()=>{T("end")},oe+y);return()=>{window.clearTimeout(R),window.clearTimeout(m),T("end")}},[x,$,y]);const W="absolute left-1/2 overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] will-change-transform bg-gray-900";let P={width:`${w}px`,height:`${j}px`,transform:`${f} scale(0)`,zIndex:10,opacity:0,pointerEvents:"none"};x?P={width:`${g}px`,height:`${s}px`,transform:`${f} scale(1) rotateY(0deg)`,zIndex:30,opacity:1}:O==="left"?P={width:`${w}px`,height:`${j}px`,transform:`${f} translateX(-${C}px) scale(0.9) rotateY(22deg)`,zIndex:20,opacity:.4}:O==="right"&&(P={width:`${w}px`,height:`${j}px`,transform:`${f} translateX(${C}px) scale(0.9) rotateY(-22deg)`,zIndex:20,opacity:.4});const Y=S?"w-full h-full bg-gray-900 overflow-y-scroll overscroll-auto touch-pan-y m-0 p-0 relative":"w-full h-full bg-gray-900 overflow-y-scroll touch-none m-0 p-0 relative",U="w-full h-full bg-gray-900 overflow-hidden pointer-events-none select-none m-0 p-0 relative",H=x?{WebkitOverflowScrolling:S?"touch":"auto",overscrollBehaviorY:S?"auto":"none"}:void 0,J=()=>{const h=V(t.featuredImage)||V(t.bannerImage)||V(t.image)||"";if(t.imageSources){if(x&&t.imageSources.center)return t.imageSources.center;if((O==="left"||O==="right")&&t.imageSources.side)return t.imageSources.side;if(t.imageSources.mobile)return t.imageSources.mobile}return h},K=()=>t.dimensions?.aspectRatio&&s>0?{objectFit:"cover",objectPosition:"center top"}:{objectFit:"cover",objectPosition:"center top"},G=J(),Z=l?.alt||t.alt||t.title||"Project preview",Q=()=>l?.sources?.length?e.jsxs("picture",{children:[l.sources.map((h,T)=>e.jsx("source",{srcSet:h.srcSet,sizes:h.sizes??l.sizes,type:h.type},`source-${T}`)),e.jsx("img",{src:l.src,srcSet:l.srcSet,sizes:l.sizes,alt:Z,width:l.width,height:l.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"})]}):l?.src?e.jsx("img",{src:l.src,srcSet:l.srcSet,sizes:l.sizes,alt:Z,width:l.width,height:l.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"}):G?e.jsx("img",{src:G,alt:Z,loading:r===0?"eager":"lazy",draggable:!1,className:"block w-full h-auto min-h-full select-none",style:K(),decoding:"async"}):e.jsx("div",{className:"flex h-full w-full bg-gradient-to-b from-bg2 via-bg to-bg/80"});return n.useEffect(()=>{if(!x){o(!1);return}const h=p.current;if(!h)return;const T=h.querySelector("picture img")??h.querySelector("img");if(!T){o(!0);return}const R=()=>o(!0);if(T.complete&&T.naturalHeight>0){o(!0);return}return o(!1),T.addEventListener("load",R,{once:!1}),T.addEventListener("error",R,{once:!1}),()=>{T.removeEventListener("load",R),T.removeEventListener("error",R)}},[x,l,G]),e.jsxs("div",{className:`${W} ${x?"top-0":"top-1/2"}`,style:P,"data-carousel-item":!0,"data-index":r,"data-active":x?"true":"false",onClick:()=>{x?L():u(r)},children:[e.jsx("figure",{ref:p,className:x?Y:U,style:H,"aria-hidden":x?"false":"true",tabIndex:x?0:-1,children:Q()}),!1]})}const Ye=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),qe=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),Xe={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},Ge="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",Se=({direction:t="left",variant:r="floating",position:d,className:a="",iconClassName:g,disabled:s,...w})=>{const j=t==="left"?Ye:qe,C=t==="left"?"Previous":"Next",u=r==="custom"?a:Xe[r]||`${r} ${a}`.trim(),l=d?{left:d.left,right:d.right,top:d.top??"50%",transform:d.transform??"translate(-50%, -50%)",...d}:void 0;return e.jsx("button",{type:"button","aria-label":C,className:u,style:l,disabled:s,...w,children:e.jsx(j,{className:g||Ge})})},je=t=>e.jsx(Se,{direction:"left",...t}),Te=t=>e.jsx(Se,{direction:"right",...t});function Ne({containerRef:t,totalItems:r,currentIndex:d,setIndex:a,autoplay:g=!0,autoplayTime:s=4e3,threshold:w=.3,resumeDelay:j=5e3,resumeTriggers:C=["scroll","click-outside","hover-away"],pauseOnEngage:u=!0,engageOnlyOnActiveItem:l=!0,activeItemAttr:p="data-active"}){const i=n.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),$=ve(t,{threshold:w}),M=ge({totalItems:r,currentIndex:d,setIndex:a,autoplayTime:s,resumeDelay:j,resumeTriggers:C,containerSelector:`[data-autoplay-scope="${i}"]`,itemSelector:`[data-autoplay-scope="${i}"] [data-carousel-item]`,inView:g&&$,pauseOnEngage:u,engageOnlyOnActiveItem:l,activeItemAttr:p});return{scopeId:i,inView:$,...M}}function ot({items:t=[],mediaEntries:r=[],defaultIndex:d=0,autoplay:a=!0,autoAdvanceDelay:g=5e3,showArrows:s=!0,showDots:w=!0,drag:j=!1,className:C=""}){const u=n.useRef(null),[l,p]=n.useState(d),[i,$]=n.useState(0),[M,k]=n.useState(!1);n.useEffect(()=>{k(!0)},[]);const o=n.useMemo(()=>Array.isArray(t)?t:[],[t]),y=n.useMemo(()=>Array.isArray(r)?r:[],[r]),A=i>0;n.useLayoutEffect(()=>{if(typeof window>"u")return;const m=u.current;if(!m)return;const N=()=>{const D=m.getBoundingClientRect().width;D&&D!==i&&$(D)};N();const q=new ResizeObserver(N);return q.observe(m),window.addEventListener("resize",N,{passive:!0}),()=>{q.disconnect(),window.removeEventListener("resize",N)}},[i]);const{scopeId:x}=Ne({containerRef:u,totalItems:o.length,currentIndex:l,setIndex:p,autoplay:a,autoplayTime:g}),O=()=>{const m=i;return m<640?{centerW:280,centerH:190,sideW:180,sideH:120}:m<768?{centerW:340,centerH:230,sideW:220,sideH:150}:m<1024?{centerW:460,centerH:310,sideW:290,sideH:190}:m<1280?{centerW:680,centerH:450,sideW:420,sideH:290}:{centerW:860,centerH:540,sideW:520,sideH:360}},f=m=>{const N=i,D=-(N>=1536?72:N>=1280?56:N>=1024?40:20);return N/2-m/2-D},{centerW:v,centerH:c,sideW:b,sideH:S}=A?O():{centerW:0,centerH:0,sideW:0,sideH:0},L=A?f(b):0,z=()=>p(m=>m===0?o.length-1:m-1),E=()=>p(m=>m===o.length-1?0:m+1),P=(i>=768?48:40)/2,Y=i>=1024?20:16,U=i>=1280,H=v/2+P+Y,J=U?`calc(50% - ${L}px)`:`calc(50% - ${H}px)`,K=U?`calc(50% + ${L}px)`:`calc(50% + ${H}px)`,G=n.useRef(null),Z=n.useRef(null);pe({enabled:A&&j&&o.length>1,leftElRef:G,rightElRef:Z,onLeft:z,onRight:E,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const Q=Math.max(140,Math.min(b,520)),h=m=>({left:`calc(50% ${m>=0?"+":"-"} ${Math.abs(m)}px)`,transform:"translateX(-50%)",width:`${Q}px`,top:0,height:"100%"}),T=U?L:H,R=U?L:H;return o.length?e.jsx("div",{ref:u,...Me("fade-in",{once:!0}),"data-carousel-container":!0,"data-autoplay-scope":x,suppressHydrationWarning:!0,className:`w-full ${C}`.trim(),children:A&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-visible w-full leading-none",style:{height:`${c}px`},children:[o.map((m,N)=>e.jsx(Ue,{item:m,i:N,activeIndex:l,itemsLength:o.length,centerW:v,centerH:c,sideW:b,sideH:S,tx:L,onSelect:p,mediaEntry:M?y[N]:void 0},m.slug??m.id??N)),j&&o.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:G,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:h(-T),"aria-hidden":"true","data-drag-zone":"left"}),e.jsx("div",{ref:Z,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:h(R),"aria-hidden":"true","data-drag-zone":"right"})]}),s&&o.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(je,{onClick:z,variant:"floating",position:{left:J,top:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(Te,{onClick:E,variant:"floating",position:{left:K,top:"50%",transform:"translate(-50%, -50%)"}})]})]}),w&&o.length>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:o.map((m,N)=>e.jsx("button",{type:"button",onClick:()=>p(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${N===l?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to slide ${N+1}`},N))})]})}):null}const Ze=n.forwardRef(function({items:r=[],renderItem:d=()=>null,children:a,speed:g=30,duplicateCount:s=3,autoplay:w=!0,pauseOnHover:j=!0,pauseOnEngage:C=!0,startDelay:u=2500,gap:l=24,itemWidth:p=120,gradientMask:i=!0,gradientWidth:$={base:48,md:80},threshold:M=.3,onItemInteraction:k,resumeDelay:o=500,resumeTriggers:y=["scroll","click-outside","hover-away"],containerSelector:A,itemSelector:x,className:O="",trackClassName:f=""},v){const c=n.useRef(null),b=n.useRef(null),[S,L]=n.useState(0),z=n.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);n.useImperativeHandle(v,()=>({container:c.current,track:b.current,getCurrentOffset:()=>S,setOffset:L}));const E=ve(c,{threshold:M}),W=n.useMemo(()=>n.Children.toArray(a).filter(Boolean),[a]),P=W.length>0,Y=P?W.length:r.length,U=n.useMemo(()=>P?Array.from({length:s},(_,I)=>W.map((F,te)=>({type:"child",node:F,originalIndex:te,duplicateIndex:I}))).flat():Array.from({length:s},(_,I)=>r.map((F,te)=>({type:"item",item:F,originalIndex:te,duplicateIndex:I}))).flat(),[W,s,r,P]),H=Y*p,{engageUser:J,isAutoplayPaused:K,userEngaged:G,isResumeScheduled:Z,pause:Q,resume:h}=ge({totalItems:Math.max(Y,1),currentIndex:Y>0?Math.floor(Math.abs(S)/p)%Y:0,setIndex:()=>{},autoplayTime:50,resumeDelay:o,resumeTriggers:y,containerSelector:A||`[data-autoplay-scope="${z}"]`,itemSelector:x||`[data-autoplay-scope="${z}"] [data-smooth-item]`,inView:w&&E,pauseOnEngage:C,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[T,R]=n.useState(!1);n.useEffect(()=>{if(!(w&&E&&!K)){R(!1);return}const I=window.setTimeout(()=>R(!0),u);return()=>window.clearTimeout(I)},[w,E,K,u]),n.useEffect(()=>{if(!T)return;let _,I=performance.now();const F=te=>{const Re=(te-I)/1e3;I=te,L(ce=>{if(H<=0)return ce;let ae=ce-g*Re;return Math.abs(ae)>=H&&(ae+=H),ae}),_=requestAnimationFrame(F)};return _=requestAnimationFrame(F),()=>cancelAnimationFrame(_)},[T,g,H]);const m=n.useRef(null),N=n.useCallback(()=>{m.current&&(window.clearTimeout(m.current),m.current=null)},[]),q=n.useCallback(()=>{N(),m.current=window.setTimeout(()=>{h(),m.current=null},o)},[N,h,o]),D=(_,I,F)=>{C&&(J(),Q()),k?.(_,I,F)},re=()=>{j&&(J(),Q())},B=()=>{j&&q()};n.useEffect(()=>()=>N(),[N]);const[ee,se]=n.useState(()=>typeof window>"u"?$.base:window.innerWidth>=768?$.md:$.base);return n.useEffect(()=>{if(typeof window>"u")return;const _=()=>{se(window.innerWidth>=768?$.md:$.base)};return window.addEventListener("resize",_,{passive:!0}),()=>window.removeEventListener("resize",_)},[$.base,$.md]),e.jsxs("div",{ref:c,"data-autoplay-scope":z,className:`relative w-full overflow-hidden ${O}`.trim(),"data-smooth-carousel":!0,onMouseEnter:re,onMouseLeave:B,children:[i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${ee}px`},children:e.jsx("div",{ref:b,className:`flex items-center ${f}`.trim(),style:{transform:`translateX(${S}px)`,width:"max-content",gap:`${l}px`},children:U.map((_,I)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>D(_,I,"hover"),children:_.type==="child"?_.node:d(_.item,I,{isActive:!1,onInteraction:F=>D(_.item,I,F)})},`${_.originalIndex}-${_.duplicateIndex}-${I}`))})}),!1]})});function Ve({name:t,index:r,onTechHover:d,onTechLeave:a,showName:g=!1,className:s="",children:w}){const[j,C]=n.useState(!1),u=n.useRef(null);n.useEffect(()=>()=>{u.current&&window.clearTimeout(u.current)},[]);const l=()=>d?.(t),p=()=>{C(!1),a?.()},i=()=>{u.current&&window.clearTimeout(u.current),C(!0),d?.(t),u.current=window.setTimeout(()=>{C(!1),a?.()},2500)};return e.jsxs("div",{...xe("fade-in",r,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":t,"data-index":r,className:`group flex flex-col items-center flex-shrink-0 ${s}`.trim(),role:"button",tabIndex:0,"aria-label":t,onMouseEnter:l,onMouseLeave:p,onFocus:l,onBlur:p,onTouchStart:i,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${j?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:w})}),g?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${j?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:t}):e.jsx("span",{className:"sr-only",children:t})]})}function lt({technologies:t=[],className:r=""}){const[d,a]=n.useState(null),g=n.useMemo(()=>t.filter(s=>s?.title).map(s=>({name:s.title??"",icon:s.icon??"lucide:code"})),[t]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${r}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${d?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:d??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${d?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(Ze,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:g.map((s,w)=>e.jsx(Ve,{name:s.name,index:w,onTechHover:a,onTechLeave:()=>a(null),children:e.jsx(Ce,{icon:s.icon,size:"xl","aria-label":s.name})},`${s.name}-${w}`))})]})})}const Je="/assets/placeholder.jpg";function Ke({item:t,className:r="",ringDuration:d=800}){const a=t.description??"",g=t.author??t.title??"Happy Client",s=[t.role,t.company].filter(Boolean).join(", "),w=Math.max(1,Math.min(5,t.rating??5)),j=V(t.featuredImage)||Je,C=t.url||t.href||(t.slug?`/${t.slug}`:void 0),u=!!(t.hasPage&&C),l=[u?"group":"","text-left","outer-card-transition",u?"outer-card-hover-transition":"","!duration-[900ms]","ease-out"].filter(Boolean).join(" ");return e.jsx("div",{className:r,children:e.jsxs(le,{variant:u?"progress-b-f":"none",triggers:u?"hover":[],duration:d,borderRadius:"rounded-3xl",borderWidth:2,className:l,innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",linkProps:u?{href:C}:void 0,children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(ue,{data:{icon:"❝",description:a?`“${a}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(ue,{data:{image:{src:j,alt:g},title:g,description:s||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!s}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:w}).map((p,i)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${i}`))})]})]})})}function it({items:t=[],slidesPerView:r={base:1,md:2},gap:d=32,autoplay:a=!0,autoAdvanceDelay:g=4500,showArrows:s=!1,showDots:w=!0,drag:j=!1,className:C=""}){const u=n.useRef(null),l=n.useRef(null),p=n.useRef(null),[i,$]=n.useState(typeof window<"u"?window.innerWidth:1024);n.useEffect(()=>{if(typeof window>"u")return;const b=()=>$(window.innerWidth);return window.addEventListener("resize",b,{passive:!0}),()=>window.removeEventListener("resize",b)},[]);const M=n.useMemo(()=>{const b=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let S=r.base??1;for(const{key:L,min:z}of b)i>=z&&r[L]!=null&&(S=r[L]);return Math.max(1,Number(S)||1)},[r,i]),k=n.useMemo(()=>{const b=[];for(let S=0;S<t.length;S+=M)b.push(t.slice(S,S+M));return b.length?b:[[]]},[t,M]),o=k.length,[y,A]=n.useState(0);n.useEffect(()=>{y>=o&&A(o-1)},[o,y]),Ne({containerRef:u,totalItems:o,currentIndex:y,setIndex:A,autoplay:a,autoplayTime:g,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const x=()=>A(b=>b===0?o-1:b-1),O=()=>A(b=>b===o-1?0:b+1),[f,v]=n.useState(!1);n.useEffect(()=>{if(o<=1)return;v(!0);const b=setTimeout(()=>v(!1),550);return()=>clearTimeout(b)},[y,o]),pe({enabled:j&&o>1,leftElRef:l,rightElRef:p,onLeft:x,onRight:O,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const c=120;return e.jsxs("div",{ref:u,className:`relative w-full ${C}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${s&&o>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[s&&o>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(je,{onClick:x,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${o*100}%`,transform:`translateX(-${y*100/o}%)`},children:k.map((b,S)=>e.jsx("div",{"data-carousel-item":!0,"data-active":S===y?"true":"false",className:"shrink-0",style:{width:`${100/o}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${M}, minmax(0, 1fr))`,gap:d},children:b.map((L,z)=>e.jsx("div",{className:"min-w-0",...xe("scale-in",S*M+z,{once:!0,staggerDelay:c}),children:e.jsx(Ke,{item:L})},`testimonial-${S}-${z}`))})},`page-${S}`))}),f&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),j&&o>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:l,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:p,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),s&&o>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Te,{onClick:O,variant:"inline"})})]}),w&&o>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:o}).map((b,S)=>e.jsx("button",{type:"button",onClick:()=>A(S),className:`w-3 h-3 rounded-full transition-all duration-300 ${S===y?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${S+1}`},`dot-${S}`))})]})}export{st as B,at as P,lt as T,ot as a,it as b};
