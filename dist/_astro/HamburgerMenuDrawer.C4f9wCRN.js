import{j as e,r as h}from"./react-core.QUkC7_l_.js";import{M as k}from"./Modal.DFMVAH-B.js";import p from"./Button.Bm3gH5dK.js";import{I as y}from"./Icon.DeSJHGIO.js";import"./useViewAnimation.DCFkSb13.js";import"./useVisibility.Bu__I6Xe.js";import"./AnimatedBorder.CuY9yXIU.js";function w({title:t,url:s,children:i=[],openInNewTab:r=!1,onNavigate:l,onOpenSubmenu:u}){const a=i.length>0,c=()=>{a&&u?.({title:t,items:i})},f=()=>{if(s){l();return}c()};return a?e.jsx("li",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"menuItemButton",className:"hover-emphasis-text inline-flex items-center gap-2 text-left",onClick:f,...s?{href:s,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0}:{type:"button"},children:t}),e.jsx("button",{type:"button",onClick:c,"aria-label":`View submenu for ${t}`,className:"text-text",children:e.jsx(y,{icon:"lu:chevron-right",size:"md",className:"w-6 h-6"})})]})}):e.jsx("li",{children:e.jsx(p,{variant:"menuItemButton",href:s||"#",onClick:l,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,className:"hover-emphasis-text",children:t})})}function N({isOpen:t,onChange:s,className:i="",ariaLabel:r="Toggle menu",hamburgerTransform:l=!0,...u}){const a=l&&t;return e.jsxs("button",{type:"button","aria-label":r,"aria-expanded":t,onClick:()=>s(!t),className:`group relative h-6 w-7 cursor-pointer flex flex-col justify-between items-start text-text hover:text-heading ${i}`.trim(),...u,children:[e.jsx("span",{className:`block h-[0.5px] w-full bg-current transition-all duration-300 ${a?"absolute top-1/2 -translate-y-1/2 rotate-45":""}`}),e.jsx("span",{className:`block h-[0.5px] bg-current transition-all duration-300 ${a?"opacity-0 w-full":"opacity-100 w-5 group-hover:w-full"}`}),e.jsx("span",{className:`block h-[0.5px] w-full bg-current transition-all duration-300 ${a?"absolute top-1/2 -translate-y-1/2 -rotate-45":""}`})]})}function E({items:t,className:s="",hamburgerTransform:i=!0,closeButton:r=!1}){const[l,u]=h.useState(!1),[a,c]=h.useState(()=>[{title:"Main Menu",items:t}]),f=h.useCallback(()=>{c([{title:"Main Menu",items:t}])},[t]);h.useEffect(()=>{f()},[f]);const d=n=>{u(n),n||f()},b=()=>{d(!1)},g=(n,o)=>{o?.length&&c(m=>[...m,{title:n,items:o}])},v=()=>{c(n=>n.length>1?n.slice(0,-1):n)},j=(a.length-1)*100;return e.jsxs(e.Fragment,{children:[e.jsx(N,{isOpen:l,onChange:d,hamburgerTransform:i,ariaLabel:l?"Close menu":"Open menu",id:"mobile-menu-toggle"}),e.jsx(k,{isOpen:l,onClose:()=>d(!1),position:"center",className:`w-full max-w-full h-full hero-gradient-bg p-0 rounded-none transform transition-transform duration-300 ease-out ${l?"translate-y-0":"translate-y-full"}`,overlayClass:`bg-black/50 transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,closeButton:r,ariaLabel:"Mobile navigation menu",ssr:!1,children:e.jsx("nav",{className:`${s} h-full w-full flex flex-col justify-center overflow-hidden`,"aria-label":"Mobile navigation",children:e.jsx("div",{className:"inner-section my-auto py-4",style:{maxHeight:"calc(100vh - 6rem)"},children:e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("div",{className:"flex h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${j}%)`},children:a.map((n,o)=>e.jsxs("div",{className:"w-full flex-shrink-0 h-full flex flex-col relative","aria-hidden":o!==a.length-1,children:[o>0&&e.jsxs("button",{type:"button",onClick:v,className:"flex items-center gap-2 text-text hover:underline absolute left-0 top-0","aria-label":`Go back to ${a[o-1]?.title??"previous menu"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),e.jsx("div",{className:`flex-1 overflow-y-auto overflow-x-hidden pr-2 ${o>0?"pt-12":""}`,children:e.jsx("ul",{className:"menu-item-spacing pb-10",children:n.items.map(m=>e.jsx(w,{...m,onNavigate:b,onOpenSubmenu:x=>g(x.title,x.items)},m.slug||m.id))})})]},`${n.title}-${o}`))})})})})})]})}export{E as default};
