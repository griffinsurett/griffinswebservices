import{r as s,j as D}from"./react-core.BZDfXm82.js";import{b as Y,u as Z}from"./useVisibility.BRyxqeoh.js";const P=r=>typeof r=="number"?`${r}px`:r??"0px",_=({ref:r,triggers:e="hover",active:i=!1,hoverDelay:C=0,unhoverIntent:h,visibleRootMargin:o=120,visibilityOptions:l={threshold:.25}})=>{const w=s.useMemo(()=>Array.isArray(e)?e:[e??"hover"],[e]),p=s.useMemo(()=>w.map(n=>String(n||"").toLowerCase()),[w]),u=p.includes("hover"),E=p.includes("visible"),$=p.includes("always"),b=p.includes("controlled"),[A,N]=s.useState(!1),{handleMouseEnter:j,handleMouseLeave:S}=Y({hoverDelay:C,unhoverIntent:h,onHoverStart:()=>N(!0),onHoverEnd:()=>N(!1)}),z=s.useMemo(()=>{if(typeof o=="number"){const n=Math.max(0,o|0);return`-${n}px 0px -${n}px 0px`}if(o&&typeof o=="object"){const n=P(o.top),c=P(o.right),H=P(o.bottom),y=P(o.left);return`${n} ${c} ${H} ${y}`}return o||"0px"},[o]),L=s.useMemo(()=>({...l,threshold:l?.threshold??.25,rootMargin:z??(l?l.rootMargin:void 0)}),[z,l]),M=Z(r,L),f=!!($||u&&A||b&&i||E&&M),g=s.useRef(f),F=f&&!g.current,T=!f&&g.current;s.useEffect(()=>{g.current=f},[f]);const t=s.useCallback(n=>{if(!u)return;const c=n?.currentTarget??null;j(c)},[j,u]),d=s.useCallback(n=>{if(!u)return;const c=n?.currentTarget??null;S(c)},[S,u]);return{engaged:f,inView:M,hovered:A,wantsHover:u,wantsVisible:E,isAlways:$,isControlledTrigger:b,justEngaged:F,justDisengaged:T,onEnter:t,onLeave:d}},W=r=>{const e=typeof r=="number"?r:typeof r=="string"?parseFloat(r):NaN;return Number.isFinite(e)?Math.max(0,Math.min(100,e)):0};function ee({children:r,variant:e="none",triggers:i="hover",active:C=!1,controller:h,duration:o=2e3,fadeOutMs:l=220,color:w="var(--color-accent)",borderRadius:p="rounded-3xl",borderWidth:u=2,className:E="",innerClassName:$="",hoverDelay:b=0,unhoverIntent:A,visibleRootMargin:N=75,onMouseEnter:j,onMouseLeave:S,...z}){const L=s.useRef(null),{engaged:M,onEnter:f,onLeave:g,isAlways:F}=_({ref:L,triggers:i,active:C,hoverDelay:b,unhoverIntent:A,visibleRootMargin:N}),T=s.useMemo(()=>(Array.isArray(i)?i:[i]).map(k=>String(k||"").toLowerCase()).includes("always"),[i]),t=M||F||T,d=s.useMemo(()=>h==null?null:W(h),[h]),n=Number.isFinite(d??NaN),c=s.useRef(n&&d||0),[H,y]=s.useState(!1),[I,V]=s.useState(null),B=s.useRef(t),[q,J]=s.useState(!1);s.useEffect(()=>{J(!0)},[]),s.useEffect(()=>{if(e!=="progress"){B.current=t;return}const a=B.current;if(B.current=t,t&&!a){y(!1),V(null);return}if(!t&&a){V(c.current),y(!0);const k=window.setTimeout(()=>{y(!1),V(null),c.current=0},l);return()=>window.clearTimeout(k)}},[e,t,l]),s.useEffect(()=>{if(e==="progress"){if(n){t&&(c.current=d??0);return}t&&(c.current=100)}},[e,t,n,d]);const K=s.useMemo(()=>e==="progress"?n?d??0:t&&q?100:0:e==="progress-b-f"&&t?100:0,[e,n,d,t,q]),Q=e==="progress"&&!t&&I!=null?I:K,G=typeof u=="number"?`${u}px`:u,m={"--ab-color":w,"--ab-border-width":G,"--ab-duration":`${o}ms`,"--ab-fade-duration":`${l}ms`};(e==="progress"||e==="progress-b-f")&&(m["--ab-progress"]=`${(Q||0)*3.6}deg`),e==="progress"?m.opacity=t||H?1:0:e==="solid"?(m.opacity=t?1:0,m.padding=t?G:"0px"):e==="progress-infinite"&&(m.opacity=t?1:0,m.animationPlayState=t?"running":"paused");const x=["absolute","inset-0",p,"pointer-events-none","z-20","animated-border-overlay"];e==="solid"?x.push("is-solid","transition-all","duration-800","ease-in-out"):e==="progress"?x.push("progress"):e==="progress-b-f"?x.push("progress-b-f"):e==="progress-infinite"&&x.push("progress-infinite");const R=e!=="none",U=a=>{j?.(a),f(a)},X=a=>{S?.(a),g(a)};return D.jsxs("div",{ref:L,className:`relative ${E}`.trim(),onMouseEnter:U,onMouseLeave:X,...z,children:[R&&e!=="none"&&D.jsx("div",{className:x.join(" "),style:m}),D.jsx("div",{className:`relative z-10 overflow-hidden ${p} ${$}`,children:r})]})}export{ee as default};
