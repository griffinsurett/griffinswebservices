import{r as i,j as e}from"./react-core.Bd4Ygn0Y.js";import{u as $}from"./ui-primitives.iarFuU4F.js";import{D as A}from"./DecorativeWrapper.DeZjBdND.js";import"./visibility-hooks.DuPpO9g0.js";import"./scroll-observer.EoeTqr10.js";function g({value:c,duration:o=1e3,decimals:r=0}){const[u,l]=i.useState(0),t=i.useRef(null),a=i.useRef(null);i.useEffect(()=>{if(o===0){l(c);return}t.current=performance.now();const f=p=>{if(!t.current)return;const x=p-t.current,s=Math.min(x/o,1),n=1-Math.pow(1-s,3),d=c*n;l(d),s<1&&(a.current=requestAnimationFrame(f))};return a.current=requestAnimationFrame(f),()=>{a.current&&cancelAnimationFrame(a.current)}},[c,o]);const m=r>0?u.toFixed(r):Math.round(u).toString();return e.jsx("span",{className:"tabular-nums",children:m})}function q({label:c,value:o,variant:r="primary",showValue:u=!0,stat:l,statValue:t,statSuffix:a="",delay:m=0,height:f="h-10",className:p="",counterDuration:x=1e3}){const s=$(),[n,d]=i.useState(!1),h=i.useRef(null);i.useEffect(()=>{if(s){d(!0);return}const v=new IntersectionObserver(y=>{y.forEach(R=>{R.isIntersecting&&!n&&setTimeout(()=>d(!0),m)})},{threshold:.3});return h.current&&v.observe(h.current),()=>v.disconnect()},[n,m,s]);const N=r==="primary"?"primary-gradient":r==="primary-reverse"?"bg-linear-to-r from-accent-700 to-accent":"bg-text/30",b=r==="primary"||r==="primary-reverse"?"text-accent font-bold":"text-text/60",j=s?0:x,w=t!==void 0?t.toString().split(".")[1]?.length??0:0;return e.jsxs(A,{className:`w-full select-none pointer-events-none ${p}`,children:[e.jsxs("div",{ref:h,className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-text/80",children:c}),t!==void 0?e.jsxs("span",{className:`text-lg ${b}`,children:[e.jsx(g,{value:n?t:0,duration:j,decimals:w}),a]}):l?e.jsx("span",{className:`text-lg ${b}`,children:l}):null]}),e.jsxs("div",{className:`w-full ${f} bg-text/10 rounded-sm overflow-hidden relative`,children:[e.jsx("div",{className:`h-full rounded-sm ${s?"":"transition-all duration-1000 ease-out"} ${N}`,style:{width:n?`${o}%`:"0%"}}),u&&e.jsxs("span",{className:"absolute inset-0 flex items-center pl-3 text-sm font-semibold text-white",children:[e.jsx(g,{value:n?o:0,duration:j}),"%"]})]})]})}export{q as default};
