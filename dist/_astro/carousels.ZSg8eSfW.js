import{j as e,r as n}from"./react-core.INjS0cla.js";import{A as le,I as Ce,a as ue}from"./ui-primitives.B29AHa5k.js";import{a as me,u as ge,b as pe}from"./engagement-hooks.BG4h0Zgn.js";import{a as Me,s as xe}from"./accordion.YGpqVdJN.js";import{u as ve}from"./visibility-hooks.CexixIvP.js";function ie({tagName:t="h2",className:r="",before:d,text:o,after:g,beforeClass:a="",textClass:w="",afterClass:S="",beforeId:R,textId:c,afterId:l,beforeProps:p,textProps:i,afterProps:C,segmented:M,children:k,...s}){const A=typeof t=="string"?t.toLowerCase():"h2",_=["h1","h2","h3","h4","h5","h6"].includes(A),O=/\bh[1-6]\b/.test(r)||!_?r:`${A} ${r}`.trim(),f=d!==void 0||o!==void 0||g!==void 0,u=M!=null,x=(y,L,z)=>{const $=z??{},W=[L,$.className].filter(Boolean).join(" ");return{id:y??$.id,...$,className:W||void 0}},b=t;return e.jsx(b,{className:`${O} capitalize`,...s,children:u?e.jsxs(e.Fragment,{children:[M?.before!==void 0&&e.jsx("span",{...x(R,a,p),children:`${M.before} `}),M?.text!==void 0&&e.jsx("span",{...x(c,w,i),children:`${M.text} `}),M?.after!==void 0&&e.jsx("span",{...x(l,S,C),children:M.after})]}):f?e.jsxs(e.Fragment,{children:[d!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...x(R,a,p),children:d})," "]}),o!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...x(c,w,i),children:o})," "]}),g!==void 0&&e.jsx("span",{...x(l,S,C),children:g})]}):k})}function nt({children:t,className:r="",duration:d=1200,hoverSweep:o=!0,pillClassName:g="text-sm px-5 py-2.5 tracking-wider",visibleRootMargin:a}){return e.jsx("div",{className:"inline-block mb-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx(le,{variant:"progress-b-f",triggers:"visible",duration:d,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-primary)",className:"inline-block",innerClassName:`bg-transparent border-transparent ${g}`,visibleRootMargin:a,children:e.jsx(ie,{tagName:"span",className:`uppercase tracking-wider font-semibold text-heading ${r}`,children:e.jsx("span",{"data-animate":"color-text-fade","data-animate-once":"true",className:"color-text-fade",style:{"--animation-duration":`${d}ms`},children:t})})}),o&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx(le,{variant:"progress-infinite",triggers:"hover",duration:1200,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-accent)",className:"w-full h-full",innerClassName:"bg-transparent border-transparent px-0 py-0 pointer-events-none",children:e.jsx("span",{className:"sr-only",children:"Decorative border sweep"})})})]})})}function be({ref:t,active:r=!0,resumeScheduled:d=!1}){const[o,g]=n.useState(!1),a=n.useRef(!1),w=n.useCallback(()=>{g(!0)},[]);return n.useEffect(()=>{r||g(!1)},[r]),n.useEffect(()=>{a.current&&!d&&g(!1),a.current=d},[d]),n.useEffect(()=>{if(o||!r)return;const S=t.current;if(S)return S.style.pointerEvents="none",()=>{S.style.pointerEvents=""}},[t,o,r]),{enabled:o,enableScroll:w}}function V(t){return t?typeof t=="string"?t.startsWith("@/")?t.replace("@/","/src/"):t:t.src?typeof t.src=="string"?t.src:t.src.src?t.src.src:t.src:"":""}const de=700,we=14,ne=we*1e3,fe=28,$e=4,Ae=220,_e=16,Ee=2200,Le=450,Ie=750;function Oe({item:t,mediaEntry:r,totalSlides:d,onCycleComplete:o,isActive:g}){const a=n.useRef(null),[w,S]=n.useState(!1),[R,c]=n.useState(!1),[l,p]=n.useState(!1),[i,C]=n.useState(ne);n.useEffect(()=>{S(!0)},[]);const M=n.useCallback(f=>{const u=Math.max(0,f.scrollHeight-f.clientHeight);if(u<=0)return 0;const x=u/we;return!Number.isFinite(x)||x<=0?fe:Math.max(fe,x)},[]),k=n.useCallback(f=>{const u=Math.max(0,f.scrollHeight-f.clientHeight);if(u<=0)return ne;const x=M(f);if(x<=0)return ne;const b=Math.round(u/x*1e3);return!Number.isFinite(b)||b<=0?ne:Math.max(ne,b)},[M]),s=me({ref:a,active:g&&l,speed:M,loop:!1,startDelay:de,resumeDelay:600,resumeOnUserInput:!0,threshold:.05,resetOnInactive:!1}),{enabled:A,enableScroll:_}=be({ref:a,active:g,resumeScheduled:s.resumeScheduled});n.useEffect(()=>{g&&(s.resetPosition(0),a.current?.scrollTo({top:0,left:0,behavior:"auto"}))},[g,s.resetPosition]),n.useEffect(()=>{if(!w)return;const f=a.current;if(!f)return;const u=f.querySelector("picture img")??f.querySelector("img");if(!u){c(!1);return}if(u.complete&&u.naturalHeight>0){c(!0);return}c(!1);const x=()=>c(!0);return u.addEventListener("load",x,{once:!0}),u.addEventListener("error",x,{once:!0}),()=>{u.removeEventListener("load",x),u.removeEventListener("error",x)}},[t,r,w]),n.useEffect(()=>{if(!R){p(!1);return}const f=a.current;if(!f)return;let u=!1,x=null;const b=()=>Math.max(0,f.scrollHeight-f.clientHeight)>$e,y=()=>{u||(u=!0,x?.(),x=null,p(!0))},L=()=>{if(typeof ResizeObserver>"u"){y();return}let $=null,W=f.scrollHeight;const P=()=>{$||($=window.setTimeout(()=>{$=null,y()},Ae))},q=()=>{$&&(window.clearTimeout($),$=null)},U=new ResizeObserver(()=>{const H=f.scrollHeight;Math.abs(H-W)>_e&&(W=H,q()),P()});U.observe(f),P(),x=()=>{U.disconnect(),$&&(window.clearTimeout($),$=null)}};if(b())L();else if(typeof ResizeObserver<"u"){const $=new ResizeObserver(()=>{b()&&($.disconnect(),L())});$.observe(f),x=()=>$.disconnect()}else y();const z=window.setTimeout(y,Ee);return()=>{x?.(),window.clearTimeout(z)}},[R]),n.useEffect(()=>{if(!l||!g){C(ne);return}const f=a.current;if(!f)return;const u=()=>C(k(f));u();const x=typeof ResizeObserver<"u"?new ResizeObserver(()=>u()):null;return x?.observe(f),()=>x?.disconnect()},[l,g,k]),n.useEffect(()=>{if(!l||!g||d<=1||s.paused)return;const f=de+i+Le,u=window.setTimeout(()=>o(),f);return()=>window.clearTimeout(u)},[g,l,o,i,d,s.paused]);const v=V(t.featuredImage)||V(t.bannerImage)||V(t.image)||"",O=()=>w?r?.sources?.length?e.jsxs("picture",{children:[r.sources.map((f,u)=>e.jsx("source",{srcSet:f.srcSet,sizes:f.sizes??r.sizes,type:f.type},`${t.slug??t.id??u}-source-${u}`)),e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||t.alt||t.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"})]}):r?.src?e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||t.alt||t.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):v?e.jsx("img",{src:v,alt:t.alt||t.title||"Project preview",loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80 text-white/30",children:"Preview coming soon"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80"});return e.jsx("div",{className:"relative h-full w-full",onClick:_,children:e.jsxs("div",{className:"relative h-full bg-bg3",children:[e.jsx("div",{className:"flex flex-col gap-3 border-b border-white/10 px-4 py-3 text-white/70 sm:flex-row sm:items-center sm:justify-between",children:e.jsx("div",{className:"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/50",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"})]})})}),e.jsx("figure",{ref:a,className:`relative h-full overflow-y-scroll bg-black/40 ${A?"overscroll-contain touch-pan-y":"touch-none"}`,style:{WebkitOverflowScrolling:A?"touch":"auto",overscrollBehaviorY:A?"contain":"none"},children:O()})]})})}function rt({items:t=[],className:r="",mediaEntries:d=[]}){const o=n.useMemo(()=>Array.isArray(t)?t:[],[t]),g=n.useMemo(()=>Array.isArray(d)?d:[],[d]),[a,w]=n.useState(0),[S,R]=n.useState(null),[c,l]=n.useState("idle"),p=n.useRef(null),i=n.useRef(null);n.useEffect(()=>{if(!o.length){w(0),R(null),l("idle");return}w(s=>s>=o.length?0:s)},[o.length]),n.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null),i.current&&(cancelAnimationFrame(i.current),i.current=null)},[]);const C=n.useCallback(s=>{typeof window>"u"||(R(a),w(s),l("pre"),i.current&&(cancelAnimationFrame(i.current),i.current=null),i.current=requestAnimationFrame(()=>{i.current=requestAnimationFrame(()=>{l("animating")})}),p.current&&(window.clearTimeout(p.current),p.current=null),p.current=window.setTimeout(()=>{l("idle"),R(null)},Ie))},[a]),M=n.useCallback(()=>{if(!o.length||o.length<=1||c!=="idle")return;const s=(a+1)%o.length;C(s)},[a,o.length,C,c]);if(!o.length)return null;const k="absolute inset-0 transition-transform transition-opacity duration-[750ms] ease-[cubic-bezier(0.4,0,0.2,1)]";return e.jsx("div",{className:`relative h-full ${r}`.trim(),children:e.jsx("div",{className:"relative h-full w-full overflow-hidden card-bg rounded-lg",children:o.map((s,A)=>{const _=A===a,v=A===S,O=_||v&&c!=="idle";if(!(_||v&&c!=="idle"))return null;let u="translate-x-full";return v&&c!=="idle"?u="-translate-x-full":_&&(c==="idle"||S===null?u="translate-x-0":c==="pre"?u="translate-x-full":u="translate-x-0"),e.jsx("div",{className:`${k} shadow-2xl ${u} ${O?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":_?"false":"true",children:e.jsx(Oe,{item:s,mediaEntry:g[A],totalSlides:o.length||1,onCycleComplete:M,isActive:_&&c==="idle"})},s.slug??s.id??A)})})})}const oe=1500,ye=30,X=ye*1e3,ke=X*4,he=18,ze=60,He=3e3,De=6,Pe=260,Fe=18;function We({item:t,i:r,activeIndex:d,itemsLength:o,centerW:g,centerH:a,sideW:w,sideH:S,tx:R,onSelect:c,mediaEntry:l}){const p=n.useRef(null),i=r-d,[C,M]=n.useState(!1),[k,s]=n.useState(!1),[A,_]=n.useState(X),v=i===0,O=n.useMemo(()=>i===0?"center":i===-1||i===o-1?"left":i===1||i===-(o-1)?"right":"hidden",[i,o]),f=v?"translate(-50%, 0)":"translate(-50%, -50%)",u=n.useCallback(h=>{const j=Math.max(0,h.scrollHeight-h.clientHeight);if(j<=0)return 0;const T=j/ye;return!Number.isFinite(T)||T<=0?he:Math.min(ze,Math.max(he,T))},[]),x=n.useCallback(h=>{const j=Math.max(0,h.scrollHeight-h.clientHeight);if(j<=0)return X;const T=u(h);if(T<=0)return X;const m=Math.round(j/T*1e3);return!Number.isFinite(m)||m<=0?X:Math.min(ke,Math.max(X,m))},[u]),b=me({ref:p,active:v&&C,speed:u,loop:!1,startDelay:oe,resumeDelay:900,resumeOnUserInput:!0,threshold:.1,resetOnInactive:!0}),{enabled:y,enableScroll:L}=be({ref:p,active:v,resumeScheduled:b.resumeScheduled}),[z,$]=n.useState(0);n.useEffect(()=>{if(!v)return;let h=null;const j=()=>{const T=p.current;if(T){const m=Math.max(0,T.scrollHeight-T.clientHeight),N=m>0?T.scrollTop/m*100:0;$(Math.round(N))}h=requestAnimationFrame(j)};return h=requestAnimationFrame(j),()=>{h&&cancelAnimationFrame(h)}},[v]),n.useEffect(()=>{if(!v||!k){M(!1),_(X);return}const h=p.current;if(!h)return;let j=!1,T=null;const m=()=>Math.max(0,h.scrollHeight-h.clientHeight)>De,N=()=>{j||(j=!0,T?.(),T=null,M(!0))},Y=()=>{if(typeof ResizeObserver>"u"){N();return}let B=null,ee=h.scrollHeight;const se=()=>{B||(B=window.setTimeout(()=>{B=null,N()},Pe))},E=()=>{B&&(window.clearTimeout(B),B=null)},I=new ResizeObserver(()=>{const F=h.scrollHeight;Math.abs(F-ee)>Fe&&(ee=F,E()),se()});I.observe(h),se(),T=()=>{I.disconnect(),B&&(window.clearTimeout(B),B=null)}};let D=null;m()?Y():typeof ResizeObserver<"u"?(D=new ResizeObserver(()=>{m()&&(D?.disconnect(),D=null,Y())}),D.observe(h)):N();const re=window.setTimeout(()=>{N()},He);return()=>{D?.disconnect(),T?.(),re&&window.clearTimeout(re)}},[v,k]),n.useEffect(()=>{if(!v||!C){_(X);return}const h=p.current;if(!h)return;const j=()=>{_(x(h))};j();const T=typeof ResizeObserver<"u"?new ResizeObserver(()=>j()):null;return T?.observe(h),()=>T?.disconnect()},[v,C,x]),n.useEffect(()=>{if(!v||!C||typeof window>"u")return;const h=p.current;if(!h)return;const j=N=>{h.dispatchEvent(new CustomEvent("autoscroll-user",{bubbles:!0,detail:{phase:N}}))},T=window.setTimeout(()=>{j("start")},oe),m=window.setTimeout(()=>{j("end")},oe+A);return()=>{window.clearTimeout(T),window.clearTimeout(m),j("end")}},[v,C,A]);const W="absolute left-1/2 overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] will-change-transform bg-gray-900";let P={width:`${w}px`,height:`${S}px`,transform:`${f} scale(0)`,zIndex:10,opacity:0,pointerEvents:"none"};v?P={width:`${g}px`,height:`${a}px`,transform:`${f} scale(1) rotateY(0deg)`,zIndex:30,opacity:1}:O==="left"?P={width:`${w}px`,height:`${S}px`,transform:`${f} translateX(-${R}px) scale(0.9) rotateY(22deg)`,zIndex:20,opacity:.4}:O==="right"&&(P={width:`${w}px`,height:`${S}px`,transform:`${f} translateX(${R}px) scale(0.9) rotateY(-22deg)`,zIndex:20,opacity:.4});const q=y?"w-full h-full bg-gray-900 overflow-y-scroll overscroll-auto touch-pan-y m-0 p-0 relative":"w-full h-full bg-gray-900 overflow-y-scroll touch-none m-0 p-0 relative",U="w-full h-full bg-gray-900 overflow-hidden pointer-events-none select-none m-0 p-0 relative",H=v?{WebkitOverflowScrolling:y?"touch":"auto",overscrollBehaviorY:y?"auto":"none"}:void 0,J=()=>{const h=V(t.featuredImage)||V(t.bannerImage)||V(t.image)||"";if(t.imageSources){if(v&&t.imageSources.center)return t.imageSources.center;if((O==="left"||O==="right")&&t.imageSources.side)return t.imageSources.side;if(t.imageSources.mobile)return t.imageSources.mobile}return h},K=()=>t.dimensions?.aspectRatio&&a>0?{objectFit:"cover",objectPosition:"center top"}:{objectFit:"cover",objectPosition:"center top"},G=J(),Z=l?.alt||t.alt||t.title||"Project preview",Q=()=>l?.sources?.length?e.jsxs("picture",{children:[l.sources.map((h,j)=>e.jsx("source",{srcSet:h.srcSet,sizes:h.sizes??l.sizes,type:h.type},`source-${j}`)),e.jsx("img",{src:l.src,srcSet:l.srcSet,sizes:l.sizes,alt:Z,width:l.width,height:l.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"})]}):l?.src?e.jsx("img",{src:l.src,srcSet:l.srcSet,sizes:l.sizes,alt:Z,width:l.width,height:l.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"}):G?e.jsx("img",{src:G,alt:Z,loading:r===0?"eager":"lazy",draggable:!1,className:"block w-full h-auto min-h-full select-none",style:K(),decoding:"async"}):e.jsx("div",{className:"flex h-full w-full bg-gradient-to-b from-bg2 via-bg to-bg/80"});return n.useEffect(()=>{if(!v){s(!1);return}const h=p.current;if(!h)return;const j=h.querySelector("picture img")??h.querySelector("img");if(!j){s(!0);return}const T=()=>s(!0);if(j.complete&&j.naturalHeight>0){s(!0);return}return s(!1),j.addEventListener("load",T,{once:!1}),j.addEventListener("error",T,{once:!1}),()=>{j.removeEventListener("load",T),j.removeEventListener("error",T)}},[v,l,G]),e.jsxs("div",{className:`${W} ${v?"top-0":"top-1/2"}`,style:P,"data-carousel-item":!0,"data-index":r,"data-active":v?"true":"false",onClick:()=>{v?L():c(r)},children:[e.jsx("figure",{ref:p,className:v?q:U,style:H,"aria-hidden":v?"false":"true",tabIndex:v?0:-1,children:Q()}),!1]})}const Be=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),Ue=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),qe={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},Ye="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",Se=({direction:t="left",variant:r="floating",position:d,className:o="",iconClassName:g,disabled:a,...w})=>{const S=t==="left"?Be:Ue,R=t==="left"?"Previous":"Next",c=r==="custom"?o:qe[r]||`${r} ${o}`.trim(),l=d?{left:d.left,right:d.right,top:d.top??"50%",transform:d.transform??"translate(-50%, -50%)",...d}:void 0;return e.jsx("button",{type:"button","aria-label":R,className:c,style:l,disabled:a,...w,children:e.jsx(S,{className:g||Ye})})},je=t=>e.jsx(Se,{direction:"left",...t}),Ne=t=>e.jsx(Se,{direction:"right",...t});function Te({containerRef:t,totalItems:r,currentIndex:d,setIndex:o,autoplay:g=!0,autoplayTime:a=4e3,threshold:w=.3,resumeDelay:S=5e3,resumeTriggers:R=["scroll","click-outside","hover-away"],pauseOnEngage:c=!0,engageOnlyOnActiveItem:l=!0,activeItemAttr:p="data-active"}){const i=n.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),C=ve(t,{threshold:w}),M=ge({totalItems:r,currentIndex:d,setIndex:o,autoplayTime:a,resumeDelay:S,resumeTriggers:R,containerSelector:`[data-autoplay-scope="${i}"]`,itemSelector:`[data-autoplay-scope="${i}"] [data-carousel-item]`,inView:g&&C,pauseOnEngage:c,engageOnlyOnActiveItem:l,activeItemAttr:p});return{scopeId:i,inView:C,...M}}function st({items:t=[],mediaEntries:r=[],defaultIndex:d=0,autoplay:o=!0,autoAdvanceDelay:g=5e3,showArrows:a=!0,showDots:w=!0,drag:S=!1,className:R=""}){const c=n.useRef(null),[l,p]=n.useState(d),[i,C]=n.useState(0),[M,k]=n.useState(!1);n.useEffect(()=>{k(!0)},[]);const s=n.useMemo(()=>Array.isArray(t)?t:[],[t]),A=n.useMemo(()=>Array.isArray(r)?r:[],[r]),_=i>0;n.useLayoutEffect(()=>{if(typeof window>"u")return;const m=c.current;if(!m)return;const N=()=>{const D=m.getBoundingClientRect().width;D&&D!==i&&C(D)};N();const Y=new ResizeObserver(N);return Y.observe(m),window.addEventListener("resize",N,{passive:!0}),()=>{Y.disconnect(),window.removeEventListener("resize",N)}},[i]);const{scopeId:v}=Te({containerRef:c,totalItems:s.length,currentIndex:l,setIndex:p,autoplay:o,autoplayTime:g}),O=()=>{const m=i;return m<640?{centerW:280,centerH:190,sideW:180,sideH:120}:m<768?{centerW:340,centerH:230,sideW:220,sideH:150}:m<1024?{centerW:460,centerH:310,sideW:290,sideH:190}:m<1280?{centerW:680,centerH:450,sideW:420,sideH:290}:{centerW:860,centerH:540,sideW:520,sideH:360}},f=m=>{const N=i,D=-(N>=1536?72:N>=1280?56:N>=1024?40:20);return N/2-m/2-D},{centerW:u,centerH:x,sideW:b,sideH:y}=_?O():{centerW:0,centerH:0,sideW:0,sideH:0},L=_?f(b):0,z=()=>p(m=>m===0?s.length-1:m-1),$=()=>p(m=>m===s.length-1?0:m+1),P=(i>=768?48:40)/2,q=i>=1024?20:16,U=i>=1280,H=u/2+P+q,J=U?`calc(50% - ${L}px)`:`calc(50% - ${H}px)`,K=U?`calc(50% + ${L}px)`:`calc(50% + ${H}px)`,G=n.useRef(null),Z=n.useRef(null);pe({enabled:_&&S&&s.length>1,leftElRef:G,rightElRef:Z,onLeft:z,onRight:$,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const Q=Math.max(140,Math.min(b,520)),h=m=>({left:`calc(50% ${m>=0?"+":"-"} ${Math.abs(m)}px)`,transform:"translateX(-50%)",width:`${Q}px`,top:0,height:"100%"}),j=U?L:H,T=U?L:H;return s.length?e.jsx("div",{ref:c,...Me("fade-in",{once:!0}),"data-carousel-container":!0,"data-autoplay-scope":v,suppressHydrationWarning:!0,className:`w-full ${R}`.trim(),children:_&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-visible w-full leading-none",style:{height:`${x}px`},children:[s.map((m,N)=>e.jsx(We,{item:m,i:N,activeIndex:l,itemsLength:s.length,centerW:u,centerH:x,sideW:b,sideH:y,tx:L,onSelect:p,mediaEntry:M?A[N]:void 0},m.slug??m.id??N)),S&&s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:G,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:h(-j),"aria-hidden":"true","data-drag-zone":"left"}),e.jsx("div",{ref:Z,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:h(T),"aria-hidden":"true","data-drag-zone":"right"})]}),a&&s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(je,{onClick:z,variant:"floating",position:{left:J,top:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(Ne,{onClick:$,variant:"floating",position:{left:K,top:"50%",transform:"translate(-50%, -50%)"}})]})]}),w&&s.length>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:s.map((m,N)=>e.jsx("button",{type:"button",onClick:()=>p(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${N===l?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to slide ${N+1}`},N))})]})}):null}const Xe=n.forwardRef(function({items:r=[],renderItem:d=()=>null,children:o,speed:g=30,duplicateCount:a=3,autoplay:w=!0,pauseOnHover:S=!0,pauseOnEngage:R=!0,startDelay:c=2500,gap:l=24,itemWidth:p=120,gradientMask:i=!0,gradientWidth:C={base:48,md:80},threshold:M=.3,onItemInteraction:k,resumeDelay:s=500,resumeTriggers:A=["scroll","click-outside","hover-away"],containerSelector:_,itemSelector:v,className:O="",trackClassName:f=""},u){const x=n.useRef(null),b=n.useRef(null),[y,L]=n.useState(0),z=n.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);n.useImperativeHandle(u,()=>({container:x.current,track:b.current,getCurrentOffset:()=>y,setOffset:L}));const $=ve(x,{threshold:M}),W=n.useMemo(()=>n.Children.toArray(o).filter(Boolean),[o]),P=W.length>0,q=P?W.length:r.length,U=n.useMemo(()=>P?Array.from({length:a},(E,I)=>W.map((F,te)=>({type:"child",node:F,originalIndex:te,duplicateIndex:I}))).flat():Array.from({length:a},(E,I)=>r.map((F,te)=>({type:"item",item:F,originalIndex:te,duplicateIndex:I}))).flat(),[W,a,r,P]),H=q*p,{engageUser:J,isAutoplayPaused:K,userEngaged:G,isResumeScheduled:Z,pause:Q,resume:h}=ge({totalItems:Math.max(q,1),currentIndex:q>0?Math.floor(Math.abs(y)/p)%q:0,setIndex:()=>{},autoplayTime:50,resumeDelay:s,resumeTriggers:A,containerSelector:_||`[data-autoplay-scope="${z}"]`,itemSelector:v||`[data-autoplay-scope="${z}"] [data-smooth-item]`,inView:w&&$,pauseOnEngage:R,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[j,T]=n.useState(!1);n.useEffect(()=>{if(!(w&&$&&!K)){T(!1);return}const I=window.setTimeout(()=>T(!0),c);return()=>window.clearTimeout(I)},[w,$,K,c]),n.useEffect(()=>{if(!j)return;let E,I=performance.now();const F=te=>{const Re=(te-I)/1e3;I=te,L(ce=>{if(H<=0)return ce;let ae=ce-g*Re;return Math.abs(ae)>=H&&(ae+=H),ae}),E=requestAnimationFrame(F)};return E=requestAnimationFrame(F),()=>cancelAnimationFrame(E)},[j,g,H]);const m=n.useRef(null),N=n.useCallback(()=>{m.current&&(window.clearTimeout(m.current),m.current=null)},[]),Y=n.useCallback(()=>{N(),m.current=window.setTimeout(()=>{h(),m.current=null},s)},[N,h,s]),D=(E,I,F)=>{R&&(J(),Q()),k?.(E,I,F)},re=()=>{S&&(J(),Q())},B=()=>{S&&Y()};n.useEffect(()=>()=>N(),[N]);const[ee,se]=n.useState(()=>typeof window>"u"?C.base:window.innerWidth>=768?C.md:C.base);return n.useEffect(()=>{if(typeof window>"u")return;const E=()=>{se(window.innerWidth>=768?C.md:C.base)};return window.addEventListener("resize",E,{passive:!0}),()=>window.removeEventListener("resize",E)},[C.base,C.md]),e.jsxs("div",{ref:x,"data-autoplay-scope":z,className:`relative w-full overflow-hidden ${O}`.trim(),"data-smooth-carousel":!0,onMouseEnter:re,onMouseLeave:B,children:[i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${ee}px`},children:e.jsx("div",{ref:b,className:`flex items-center ${f}`.trim(),style:{transform:`translateX(${y}px)`,width:"max-content",gap:`${l}px`},children:U.map((E,I)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>D(E,I,"hover"),children:E.type==="child"?E.node:d(E.item,I,{isActive:!1,onInteraction:F=>D(E.item,I,F)})},`${E.originalIndex}-${E.duplicateIndex}-${I}`))})}),!1]})});function Ge({name:t,index:r,onTechHover:d,onTechLeave:o,showName:g=!1,className:a="",children:w}){const[S,R]=n.useState(!1),c=n.useRef(null);n.useEffect(()=>()=>{c.current&&window.clearTimeout(c.current)},[]);const l=()=>d?.(t),p=()=>{R(!1),o?.()},i=()=>{c.current&&window.clearTimeout(c.current),R(!0),d?.(t),c.current=window.setTimeout(()=>{R(!1),o?.()},2500)};return e.jsxs("div",{...xe("fade-in",r,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":t,"data-index":r,className:`group flex flex-col items-center flex-shrink-0 ${a}`.trim(),role:"button",tabIndex:0,"aria-label":t,onMouseEnter:l,onMouseLeave:p,onFocus:l,onBlur:p,onTouchStart:i,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${S?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:w})}),g?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${S?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:t}):e.jsx("span",{className:"sr-only",children:t})]})}function at({technologies:t=[],className:r=""}){const[d,o]=n.useState(null),g=n.useMemo(()=>t.filter(a=>a?.title).map(a=>({name:a.title??"",icon:a.icon??"lucide:code"})),[t]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${r}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${d?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:d??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${d?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(Xe,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:g.map((a,w)=>e.jsx(Ge,{name:a.name,index:w,onTechHover:o,onTechLeave:()=>o(null),children:e.jsx(Ce,{icon:a.icon,size:"xl","aria-label":a.name})},`${a.name}-${w}`))})]})})}const Ze="/assets/placeholder.jpg";function Ve({item:t,className:r="",ringDuration:d=800}){const o=t.description??"",g=t.author??t.title??"Happy Client",a=[t.role,t.company].filter(Boolean).join(", "),w=Math.max(1,Math.min(5,t.rating??5)),S=V(t.featuredImage)||Ze,R=t.url||t.href||(t.slug?`/${t.slug}`:void 0),c=!!(t.hasPage&&R),l=[c?"group":"","text-left","outer-card-transition",c?"outer-card-hover-transition":"","!duration-[900ms]","ease-out"].filter(Boolean).join(" ");return e.jsx("div",{className:r,children:e.jsxs(le,{variant:c?"progress-b-f":"none",triggers:c?"hover":[],duration:d,borderRadius:"rounded-3xl",borderWidth:2,className:l,innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",linkProps:c?{href:R}:void 0,children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(ue,{data:{icon:"❝",description:o?`“${o}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(ue,{data:{image:{src:S,alt:g},title:g,description:a||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!a}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:w}).map((p,i)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${i}`))})]})]})})}function ot({items:t=[],slidesPerView:r={base:1,md:2},gap:d=32,autoplay:o=!0,autoAdvanceDelay:g=4500,showArrows:a=!1,showDots:w=!0,drag:S=!1,className:R=""}){const c=n.useRef(null),l=n.useRef(null),p=n.useRef(null),[i,C]=n.useState(typeof window<"u"?window.innerWidth:1024);n.useEffect(()=>{if(typeof window>"u")return;const b=()=>C(window.innerWidth);return window.addEventListener("resize",b,{passive:!0}),()=>window.removeEventListener("resize",b)},[]);const M=n.useMemo(()=>{const b=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let y=r.base??1;for(const{key:L,min:z}of b)i>=z&&r[L]!=null&&(y=r[L]);return Math.max(1,Number(y)||1)},[r,i]),k=n.useMemo(()=>{const b=[];for(let y=0;y<t.length;y+=M)b.push(t.slice(y,y+M));return b.length?b:[[]]},[t,M]),s=k.length,[A,_]=n.useState(0);n.useEffect(()=>{A>=s&&_(s-1)},[s,A]),Te({containerRef:c,totalItems:s,currentIndex:A,setIndex:_,autoplay:o,autoplayTime:g,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const v=()=>_(b=>b===0?s-1:b-1),O=()=>_(b=>b===s-1?0:b+1),[f,u]=n.useState(!1);n.useEffect(()=>{if(s<=1)return;u(!0);const b=setTimeout(()=>u(!1),550);return()=>clearTimeout(b)},[A,s]),pe({enabled:S&&s>1,leftElRef:l,rightElRef:p,onLeft:v,onRight:O,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const x=120;return e.jsxs("div",{ref:c,className:`relative w-full ${R}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${a&&s>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[a&&s>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(je,{onClick:v,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${s*100}%`,transform:`translateX(-${A*100/s}%)`},children:k.map((b,y)=>e.jsx("div",{"data-carousel-item":!0,"data-active":y===A?"true":"false",className:"shrink-0",style:{width:`${100/s}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${M}, minmax(0, 1fr))`,gap:d},children:b.map((L,z)=>e.jsx("div",{className:"min-w-0",...xe("scale-in",y*M+z,{once:!0,staggerDelay:x}),children:e.jsx(Ve,{item:L})},`testimonial-${y}-${z}`))})},`page-${y}`))}),f&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),S&&s>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:l,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:p,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),a&&s>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ne,{onClick:O,variant:"inline"})})]}),w&&s>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:s}).map((b,y)=>e.jsx("button",{type:"button",onClick:()=>_(y),className:`w-3 h-3 rounded-full transition-all duration-300 ${y===A?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${y+1}`},`dot-${y}`))})]})}export{nt as B,rt as P,at as T,st as a,ot as b};
