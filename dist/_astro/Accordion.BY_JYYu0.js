import{j as e,r as o}from"./react-core.lhpfgRL0.js";import{A as k}from"./Textarea.CKlZObm3.js";import{a as C,I as S}from"./ToggleControl.Dg9C3ioJ.js";import{i as E,h as M}from"./useConsent.DsEOEOaj.js";import{a as L,b as D,L as W,R as B}from"./useSideDragNavigation.CHcSAsE3.js";import"./lazy-utils.B4fVcoSG.js";/* empty css                                 */function _({id:t,title:m,description:g,className:f="",children:x,isExpanded:l,onToggle:v,headerClassName:u="h5",headerSlot:j,showIndicator:h=!0,indicatorIcons:y}){const i=y?.expanded??"lucide:minus",c=y?.collapsed??"lucide:plus";return e.jsx("div",{className:`group relative ${f}`.trim(),"data-accordion-item":!0,"data-active":l?"true":"false",children:e.jsxs(k,{variant:"progress-b-f",triggers:"controlled",active:l,borderRadius:"rounded-3xl",borderWidth:2,duration:800,className:"transition-all duration-200 overflow-hidden",innerClassName:"card-bg",children:[e.jsxs("button",{type:"button",id:`${t}-trigger`,"aria-expanded":l,"aria-controls":`${t}-content`,className:`w-full text-left flex items-center justify-between px-6 py-5 hover:bg-card/60 transition-colors duration-300 cursor-pointer relative z-20 ${u}`.trim(),onClick:v,children:[j?e.jsx("div",{className:"flex-1",children:j}):e.jsx(C,{data:{title:m},layout:"horizontal",alignment:"left",className:"gap-4 flex-1",titleTag:"h3",showDescription:!1}),h&&e.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-500 text-lg font-semibold ${l?"bg-primary text-bg":"bg-primary/20 text-accent"}`,"aria-hidden":"true",children:e.jsx(S,{icon:l?i:c,size:"sm",className:"w-4 h-4"})})]}),e.jsx("div",{id:`${t}-content`,role:"region","aria-labelledby":`${t}-trigger`,className:`overflow-hidden transition-all duration-500 ease-in-out relative z-20 ${l?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"px-6 pb-6",children:[e.jsx("div",{className:"w-full h-px bg-primary/15 mb-4"}),g&&e.jsx("p",{className:"text-text/90 leading-relaxed mb-4",children:g}),x]})})]})})}function J({items:t,allowMultiple:m=!1,className:g="",headerSlot:f,headerClassName:x="",showIndicator:l=!0,indicatorIcons:v}){const[u,j]=o.useState(new Set),h=o.useRef(new Map),y=i=>{j(c=>{const s=new Set(c);return s.has(i)?s.delete(i):(m||s.clear(),s.add(i)),s})};return o.useEffect(()=>{u.forEach(i=>{const c=h.current.get(i),s=t.find((d,p)=>(d.slug||`item-${p}`)===i);if(c&&s?.contentSlotId&&c.children.length===0){const d=document.getElementById(s.contentSlotId);if(d){const p=d.cloneNode(!0);p.style.display="",p.removeAttribute("id"),c.appendChild(p)}}})},[u,t]),e.jsx("div",{className:`space-y-2 ${g}`,children:t.map((i,c)=>{const s=i.slug||`item-${c}`;return e.jsx(_,{id:s,title:i.title,description:i.description,isExpanded:u.has(s),onToggle:()=>y(s),headerSlot:f?f({item:i,id:s,expanded:u.has(s)}):void 0,headerClassName:x,showIndicator:l,indicatorIcons:v,children:e.jsx("div",{ref:d=>{d&&h.current.set(s,d)}})},s)})})}const P={src:"/assets/placeholder-D97sUwgC.jpg",width:8576,height:5696,format:"jpg"};function G({item:t,className:m="",ringDuration:g=800}){const f=t.description??"",x=t.author??t.title??"Happy Client",l=[t.role,t.company].filter(Boolean).join(", "),v=Math.max(1,Math.min(5,t.rating??5)),u=E(t.featuredImage)||P;return e.jsx("div",{className:m,children:e.jsxs(k,{variant:"progress-b-f",triggers:"hover",duration:g,borderRadius:"rounded-3xl",borderWidth:2,className:"group text-left outer-card-transition !duration-[900ms] ease-out",innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(C,{data:{icon:"❝",description:f?`“${f}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(C,{data:{image:u?{src:u,alt:x}:void 0,title:x,description:l||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!l}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:v}).map((j,h)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${h}`))})]})]})})}function K({items:t=[],slidesPerView:m={base:1,md:2},gap:g=32,autoplay:f=!0,autoAdvanceDelay:x=4500,showArrows:l=!1,showDots:v=!0,drag:u=!1,className:j=""}){const h=o.useRef(null),y=o.useRef(null),i=o.useRef(null),[c,s]=o.useState(typeof window<"u"?window.innerWidth:1024);o.useEffect(()=>{if(typeof window>"u")return;const a=()=>s(window.innerWidth);return window.addEventListener("resize",a,{passive:!0}),()=>window.removeEventListener("resize",a)},[]);const d=o.useMemo(()=>{const a=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let n=m.base??1;for(const{key:N,min:$}of a)c>=$&&m[N]!=null&&(n=m[N]);return Math.max(1,Number(n)||1)},[m,c]),p=o.useMemo(()=>{const a=[];for(let n=0;n<t.length;n+=d)a.push(t.slice(n,n+d));return a.length?a:[[]]},[t,d]),r=p.length,[b,w]=o.useState(0);o.useEffect(()=>{b>=r&&w(r-1)},[r,b]),L({containerRef:h,totalItems:r,currentIndex:b,setIndex:w,autoplay:f,autoplayTime:x,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const T=()=>w(a=>a===0?r-1:a-1),R=()=>w(a=>a===r-1?0:a+1),[z,I]=o.useState(!1);o.useEffect(()=>{if(r<=1)return;I(!0);const a=setTimeout(()=>I(!1),550);return()=>clearTimeout(a)},[b,r]),D({enabled:u&&r>1,leftElRef:y,rightElRef:i,onLeft:T,onRight:R,dragThreshold:Math.max(40,Math.round(c*.05)),tapThreshold:12});const A=120;return e.jsxs("div",{ref:h,className:`relative w-full ${j}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${l&&r>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[l&&r>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(W,{onClick:T,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${r*100}%`,transform:`translateX(-${b*100/r}%)`},children:p.map((a,n)=>e.jsx("div",{"data-carousel-item":!0,"data-active":n===b?"true":"false",className:"shrink-0",style:{width:`${100/r}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${d}, minmax(0, 1fr))`,gap:g},children:a.map((N,$)=>e.jsx("div",{className:"min-w-0",...M("scale-in",n*d+$,{once:!0,staggerDelay:A}),children:e.jsx(G,{item:N})},`testimonial-${n}-${$}`))})},`page-${n}`))}),z&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),u&&r>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:y,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:i,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),l&&r>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(B,{onClick:R,variant:"inline"})})]}),v&&r>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:r}).map((a,n)=>e.jsx("button",{type:"button",onClick:()=>w(n),className:`w-3 h-3 rounded-full transition-all duration-300 ${n===b?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${n+1}`},`dot-${n}`))})]})}export{K as T,J as default};
