import{r as d,j as r}from"./react-core.INjS0cla.js";import{I as B,A as T,a as X}from"./ui-primitives.B9eKR8W4.js";import{u as ee}from"./visibility-hooks.DMcdwJS3.js";import{u as te}from"./engagement-hooks.BUoaQ-fn.js";function ne(e,{threshold:t=.1,root:s=null,rootMargin:n="0px",once:a=!1,onEnter:i,onExit:c}={}){let m=!1,l=!1,h=null;return!e||typeof IntersectionObserver>"u"?{isVisible:m,hasBeenSeen:l,disconnect:()=>{}}:(h=new IntersectionObserver(x=>{const u=x[0];if(!u)return;const p=u.isIntersecting;m=p,p?(l||(l=!0),i?.(u),a&&h?.disconnect()):c?.(u)},{threshold:t,root:s,rootMargin:n}),h.observe(e),{get isVisible(){return m},get hasBeenSeen(){return l},disconnect:()=>h?.disconnect()})}function V(e,t={}){const{once:s=!0,delay:n,duration:a}=t,i={"data-animate":e};if(s&&(i["data-animate-once"]="true"),n!==void 0||a!==void 0){const c={};n!==void 0&&(i["data-animate-delay"]=String(n),c["--animation-delay"]=`${n}ms`),a!==void 0&&(c["--animation-duration"]=`${a}ms`),i.style=c}return i}function $e(e,t,s={}){const{staggerDelay:n=100,delay:a=0,...i}=s;return V(e,{...i,delay:a+t*n})}function Y(e){return e instanceof HTMLVideoElement?!!(e.dataset.videoSrc||e.querySelector("source[data-video-src]")):!1}function re(e){if(e.dataset.videoLoaded==="true")return!0;let t=!1;const s=e.dataset.videoSrc;return s&&e.src!==s&&(e.src=s,t=!0),e.querySelectorAll("source[data-video-src]").forEach(a=>{const i=a.dataset.videoSrc;i&&a.src!==i&&(a.src=i,t=!0)}),t&&(e.load(),e.dataset.videoLoaded="true"),t}function se(e){if(!(e.dataset.videoAutoplay!=="false"))return;const s=e.play();typeof s?.catch=="function"&&s.catch(()=>{})}function ae(e){e.dataset.videoPause!=="false"&&e.pause()}function oe(e){if(!Y(e))return;re(e)&&se(e)}function ie(e){Y(e)&&ae(e)}class le{observedElements=new WeakSet;disconnectors=new WeakMap;defaultThreshold;defaultRootMargin;constructor(t={}){this.defaultThreshold=t.defaultThreshold??.1,this.defaultRootMargin=t.defaultRootMargin??"0px 0px -50px 0px"}init(){typeof window>"u"||typeof IntersectionObserver>"u"||(this.observeAll(),this.setupMutationObserver())}observeAll(){document.querySelectorAll("[data-animate]").forEach(s=>this.observe(s))}observe(t){if(this.observedElements.has(t))return;this.observedElements.add(t);const s=t.dataset.animateOnce==="true",n=parseInt(t.dataset.animateDelay||"0",10),{disconnect:a}=ne(t,{threshold:this.defaultThreshold,rootMargin:this.defaultRootMargin,once:s,onEnter:()=>{oe(t),n>0?setTimeout(()=>{t.dataset.visible="true"},n):t.dataset.visible="true"},onExit:()=>{s||(t.dataset.visible="false"),ie(t)}});this.disconnectors.set(t,a)}setupMutationObserver(){new MutationObserver(s=>{s.forEach(n=>{n.addedNodes.forEach(a=>{a instanceof HTMLElement&&(a.hasAttribute("data-animate")&&this.observe(a),a.querySelectorAll?.("[data-animate]").forEach(i=>{this.observe(i)}))})})}).observe(document.body,{childList:!0,subtree:!0})}}let k=null;function F(e){return k||(k=new le(e),k.init(),k)}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>F()):F());function ce(e){return e??"md"}function w(e,t){if(!e)return null;const s=ce(t);return d.isValidElement(e)?e:typeof e=="string"?r.jsx(B,{icon:e,size:s}):null}const de={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};function K(e){return["inline-flex items-center justify-center gap-2","rounded-full font-semibold","h4","shadow-accent/30","button-style","button-transition","button-hover-transition","focus-visible:outline-none","w-full lg:w-auto","disabled:opacity-60 disabled:cursor-not-allowed",de[e??"md"]].filter(Boolean).join(" ")}function Z({leftIcon:e,rightIcon:t,className:s="",animated:n=!0,buttonWrapperClasses:a,fullWidth:i=!1,...c}){const l=[K(c.size),"primary-button-transition border-2 border-primary primary-gradient gradient-disappear-on-hover text-bg hover:text-heading"].filter(Boolean).join(" "),h=r.jsx(I,{...c,className:`${l} ${s}`.trim(),leftIcon:w(e,c.size),rightIcon:w(t,c.size)}),x=["inline-flex",i?"w-full":"w-auto",a].filter(Boolean).join(" ");return n?r.jsx("span",{...V("zoom-in",{once:!0}),className:x,children:h}):r.jsx("span",{className:x,children:h})}const U="rounded-full",ue="inline-flex primary-button-transition w-full lg:w-auto";function fe({leftIcon:e,rightIcon:t,className:s="",buttonWrapperClasses:n,fullWidth:a=!1,...i}){const c=[K(i.size),"bg-transparent text-heading shadow-none",U,s].filter(Boolean).join(" ");return r.jsx(T,{variant:"solid",triggers:"always",color:"var(--color-accent)",borderWidth:2,borderRadius:U,className:[a?"inline-flex w-full":ue,n,"primary-button-transition justify-center items-center"].filter(Boolean).join(" "),innerClassName:"p-0 shadow-none border-transparent justify-center items-center bg-transparent",children:r.jsx(I,{...i,className:c,leftIcon:w(e,i.size),rightIcon:w(t,i.size)})})}function me({leftIcon:e,rightIcon:t,className:s="",...n}){return r.jsx(I,{...n,className:`bg-bg/25 text-bg border-0 hover:bg-primary focus:ring-primary ${s}`,leftIcon:w(e,n.size),rightIcon:w(t,n.size)})}function he({leftIcon:e,rightIcon:t,className:s="p-0",size:n="md",children:a,...i}){const m=`link-base ${n==="sm"?"link-sm":n==="lg"?"link-lg":"link-md"} ${s}`.trim();return r.jsx(I,{...i,className:m,leftIcon:w(e,n),rightIcon:w(t,n),size:n,unstyled:!0,children:a})}function pe({leftIcon:e,rightIcon:t,className:s="",...n}){return r.jsx(I,{...n,className:`bg-accent text-bg hover:bg-accent-700 focus:ring-accent ${s}`,leftIcon:w(e,n.size),rightIcon:w(t,n.size)})}function be({className:e="",children:t,...s}){return r.jsx(I,{...s,className:`group flex items-center justify-between gap-4 text-left cursor-pointer ${e}`.trim(),unstyled:!0,children:r.jsx("span",{className:"flex justify-center items-center rounded-full h-10 w-10 bg-accent",children:r.jsx(B,{icon:"lu:arrow-right",size:"lg",className:"text-bg p-0"})})})}function ge({leftIcon:e,rightIcon:t,className:s="p-0",size:n="lg",children:a,...i}){const m=`link-base ${n==="sm"?"link-sm":n==="lg"?"link-lg":"link-md"} ${s}`.trim();return r.jsx(I,{...i,className:`${m} font-normal text-4xl transition-all`,leftIcon:w(e,n),rightIcon:w(t,n),size:n,unstyled:!0,children:a})}const I=({href:e,className:t="",buttonWrapperClasses:s,fullWidth:n,leftIcon:a,rightIcon:i,size:c="lg",children:m,unstyled:l=!1,animated:h,...x})=>{const u=c??"lg",f=l?t.trim():`btn-base ${u==="sm"?"btn-sm":u==="lg"?"btn-lg":"btn-md"} ${t}`.trim();if(e){const g=x;return r.jsxs("a",{href:e,className:f,...g,children:[a,m,i]})}const v=x;return r.jsxs("button",{type:v.type??"button",className:f,...v,children:[a,m,i]})},xe={primary:Z,secondary:fe,ghost:me,link:he,menuItemButton:ge,tertiary:pe,arrowLink:be};function ve({variant:e="primary",...t}){const s=xe[e]||Z;return r.jsx(s,{...t})}function ye({id:e,title:t,description:s,className:n="",children:a,isExpanded:i,onToggle:c,headerClassName:m="h5",headerSlot:l,showIndicator:h=!0,indicatorIcons:x}){const u=x?.expanded??"lucide:minus",p=x?.collapsed??"lucide:plus";return r.jsx("div",{className:`group relative ${n}`.trim(),"data-accordion-item":!0,"data-active":i?"true":"false",children:r.jsxs(T,{variant:"progress-b-f",triggers:"controlled",active:i,borderRadius:"rounded-3xl",borderWidth:2,duration:800,className:"transition-all duration-200 overflow-hidden",innerClassName:"card-bg",children:[r.jsxs("button",{type:"button",id:`${e}-trigger`,"aria-expanded":i,"aria-controls":`${e}-content`,className:`w-full text-left flex items-center justify-between px-6 py-5 hover:bg-card/60 transition-colors duration-300 cursor-pointer relative z-20 ${m}`.trim(),onClick:c,children:[l?r.jsx("div",{className:"flex-1",children:l}):r.jsx(X,{data:{title:t},layout:"horizontal",alignment:"left",className:"gap-4 flex-1",titleTag:"h3",showDescription:!1}),h&&r.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-500 text-lg font-semibold ${i?"bg-primary text-bg":"bg-primary/20 text-accent"}`,"aria-hidden":"true",children:r.jsx(B,{icon:i?u:p,size:"sm",className:"w-4 h-4"})})]}),r.jsx("div",{id:`${e}-content`,role:"region","aria-labelledby":`${e}-trigger`,className:`overflow-hidden transition-all duration-500 ease-in-out relative z-20 ${i?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:r.jsxs("div",{className:"px-6 pb-6",children:[r.jsx("div",{className:"w-full h-px bg-primary/15 mb-4"}),s&&r.jsx("p",{className:"text-text/90 leading-relaxed mb-4",children:s}),a]})})]})})}function Ee({items:e,allowMultiple:t=!1,className:s="",headerSlot:n,headerClassName:a="",showIndicator:i=!0,indicatorIcons:c}){const[m,l]=d.useState(new Set),h=d.useRef(new Map),x=u=>{l(p=>{const f=new Set(p);return f.has(u)?f.delete(u):(t||f.clear(),f.add(u)),f})};return d.useEffect(()=>{m.forEach(u=>{const p=h.current.get(u),f=e.find((v,g)=>(v.slug||`item-${g}`)===u);if(p&&f?.contentSlotId&&p.children.length===0){const v=document.getElementById(f.contentSlotId);if(v){const g=v.cloneNode(!0);g.style.display="",g.removeAttribute("id"),p.appendChild(g)}}})},[m,e]),r.jsx("div",{className:`space-y-2 ${s}`,children:e.map((u,p)=>{const f=u.slug||`item-${p}`;return r.jsx(ye,{id:f,title:u.title,description:u.description,isExpanded:m.has(f),onToggle:()=>x(f),headerSlot:n?n({item:u,id:f,expanded:m.has(f)}):void 0,headerClassName:a,showIndicator:i,indicatorIcons:c,children:r.jsx("div",{ref:v=>{v&&h.current.set(f,v)}})},f)})})}function je({icon:e,title:t,description:s,isActive:n,progress:a=0,onToggle:i,children:c,className:m=""}){return r.jsx("div",{className:`group relative ${m}`.trim(),"data-accordion-item":!0,"data-active":n?"true":"false",children:r.jsxs(T,{variant:"progress",triggers:"controlled",active:n,controller:a,duration:100,borderRadius:"rounded-3xl",borderWidth:2,className:"transition-all duration-200",innerClassName:"card-bg",children:[r.jsxs("div",{className:"w-full text-left flex items-center justify-between p-5 hover:bg-card/50 transition-colors duration-300 cursor-pointer relative z-20",onClick:i,onMouseDown:l=>l.preventDefault(),role:"button",tabIndex:0,"aria-expanded":n,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),i())},children:[r.jsxs("div",{className:"flex items-center gap-4",children:[e&&r.jsx("span",{className:"icon-large card-icon-color shrink-0",children:e.includes(":")?r.jsx(B,{icon:e,size:"lg",className:"w-6 h-6"}):r.jsx("span",{className:"text-2xl leading-none",children:e})}),r.jsx("div",{className:"text-left",children:r.jsx("p",{className:"h4",children:t})})]}),r.jsx("button",{type:"button",className:`
              w-8 h-8 rounded-full flex items-center justify-center
              transition-all duration-[600ms] text-xl font-semibold
              ${n?"bg-primary text-bg":"bg-primary/15 text-accent group-hover:bg-primary/25"}
            `,"aria-label":n?"Collapse":"Expand",onClick:l=>{l.stopPropagation(),i()},children:r.jsx("span",{children:n?"âˆ’":"+"})})]}),r.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out relative z-20 ${n?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:r.jsxs("div",{className:"px-6 pb-6",children:[r.jsx("div",{className:"w-full h-px bg-primary/15 mb-4"}),s&&r.jsx("p",{className:"text-text/80 leading-relaxed mb-4",children:s}),c]})})]})})}const J=d.forwardRef(({src:e,poster:t,className:s="",autoPlay:n=!0,muted:a=!0,loop:i=!0,controls:c=!1,playsInline:m=!0,lazy:l=!0,sourceType:h,children:x,...u},p)=>{const f=d.useRef(null),v=g=>{f.current=g,typeof p=="function"?p(g):p&&(p.current=g)};return d.useEffect(()=>{const g=f.current;if(!g||!l)return;const N=new IntersectionObserver(S=>{S.forEach($=>{if($.isIntersecting){const E=g.dataset.videoSrc;E&&g.src!==E&&(g.src=E,g.load(),n&&g.play().catch(()=>{})),N.disconnect()}})},{threshold:.35,rootMargin:"0px 0px 160px 0px"});return N.observe(g),()=>N.disconnect()},[l,n]),r.jsxs("video",{ref:v,className:`w-full h-full object-cover ${s}`.trim(),poster:t,autoPlay:!l&&n,muted:a,loop:i,controls:c,playsInline:m,preload:l?"metadata":"auto","data-video-src":l?e:void 0,src:l?void 0:e,...u,children:[e&&r.jsx("source",{src:l?void 0:e,"data-video-src":l?e:void 0,type:h}),x??"Your browser does not support the video tag."]})});J.displayName="Video";const G=d.forwardRef(function({desktop:t=!1,className:s="",wrapperClassName:n="",overlay:a,lazy:i=!0,autoPlay:c=!0,muted:m=!0,playsInline:l=!0,controls:h,loop:x=!1,src:u,poster:p,sourceType:f,children:v,...g},N){const S=t?"w-full h-[24rem] object-cover rounded-2xl":"w-full aspect-video object-cover rounded-2xl",$=h??t;return r.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-card/40 ${n}`.trim(),children:[r.jsx(J,{ref:N,className:`${S} ${s}`.trim(),src:u??"",poster:p,autoPlay:c,muted:m,playsInline:l,controls:$,loop:x,lazy:i,sourceType:f,...g,children:v??"Your browser does not support the video tag."}),a]})}),we=e=>e.replace(/[:]/g,""),H=e=>{if(e)return e.endsWith(".mov")?"video/quicktime":e.endsWith(".webm")?"video/webm":"video/mp4"};function Ae({items:e,className:t="",autoAdvanceDelay:s=3e3}){const a=Array.isArray(e)?e.filter(o=>!!o&&typeof o=="object"&&!!o.title):[],i=d.useRef(null),c=d.useRef(null),[m,l]=d.useState(0),[h,x]=d.useState(0),u=d.useId(),p=d.useMemo(()=>we(u),[u]),f=d.useRef(null),v=ee(f,{threshold:.3,rootMargin:"0px 0px -30% 0px"}),g=d.useCallback(()=>{const o=i.current,b=c.current;let j=null;return o&&!o.paused&&o.currentTime>0?j=o:b&&!b.paused&&b.currentTime>0?j=b:o&&o.offsetParent!==null?j=o:b&&b.offsetParent!==null?j=b:j=o||b,!j||!Number.isFinite(j.duration)?s:Math.max(0,(j.duration-j.currentTime)*1e3)+s},[s]),{engageUser:N,beginGraceWindow:S,isAutoplayPaused:$,isResumeScheduled:E,userEngaged:Ne,schedule:z}=te({totalItems:a.length,currentIndex:h,setIndex:o=>x(o),autoplayTime:g,resumeDelay:5e3,containerSelector:`[data-video-accordion="${p}"]`,itemSelector:`[data-video-accordion="${p}"] [data-accordion-item]`,inView:v,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"}),A=d.useRef(null);d.useEffect(()=>{A.current=z},[z]),d.useEffect(()=>{a.length!==0&&h>=a.length&&x(0)},[h,a.length]);const Q=d.useCallback(o=>{x(o),l(0),N(),A.current?.()},[N]),R=d.useCallback(()=>{const o=i.current,b=c.current;return o&&!o.paused&&o.currentTime>0?o:b&&!b.paused&&b.currentTime>0?b:o&&o.offsetParent!==null?o:b&&b.offsetParent!==null?b:o||b},[]),y=d.useRef(null),C=d.useCallback(()=>{const o=R();if(!o||!o.duration){y.current=null;return}const b=o.currentTime/o.duration*100;l(b),!o.paused&&!o.ended?y.current=requestAnimationFrame(C):y.current=null},[R]),M=d.useCallback(()=>{const o=R();!o||!o.duration||(y.current===null&&!o.paused&&!o.ended&&(y.current=requestAnimationFrame(C)),A.current?.())},[R,C]),L=d.useCallback(()=>{l(0),A.current?.()},[]),O=d.useCallback(()=>{y.current===null&&(y.current=requestAnimationFrame(C))},[C]),D=d.useCallback(()=>{y.current!==null&&(cancelAnimationFrame(y.current),y.current=null)},[]),W=d.useCallback(()=>{l(100),y.current!==null&&(cancelAnimationFrame(y.current),y.current=null),S()},[S]),_=d.useCallback(()=>{N()},[N]);if(d.useEffect(()=>()=>{y.current!==null&&(cancelAnimationFrame(y.current),y.current=null)},[h]),a.length===0)return null;const P=a[Math.min(h,a.length-1)];return r.jsx("div",{ref:f,...V("fade-in",{once:!0}),className:`relative ${t}`.trim(),"data-video-accordion":p,children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-12 max-2-primary",children:[r.jsx("div",{className:"min-w-0 lg:w-1/2 lg:shrink-0 flex flex-col space-y-4","data-accordion-container":!0,children:a.map((o,b)=>{const j=o.key||o.title||`item-${b}`;return r.jsxs(je,{icon:o.icon,title:o.title,description:o.description,isActive:h===b,progress:m,onToggle:()=>Q(b),children:[h===b&&r.jsx("div",{className:"lg:hidden mt-4",children:r.jsx(G,{ref:q=>{c.current=q},src:o.videoSrc,poster:o.videoPoster,lazy:!1,sourceType:H(o.videoSrc),onTimeUpdate:M,onPlay:O,onPause:D,onEnded:W,onLoadedData:L,onClick:_,desktop:!1},`mobile-${j}`)}),o.hasPage&&o.url&&r.jsx("div",{className:"mt-4",children:r.jsxs(ve,{variant:"link",href:o.url,rightIcon:"lu:arrow-right",children:["Explore ",o.title]})})]},j)})}),r.jsxs("div",{className:"hidden lg:block lg:w-1/2 min-w-0 sticky-section",children:[r.jsx(G,{ref:i,src:P?.videoSrc,poster:P?.videoPoster,sourceType:H(P?.videoSrc),lazy:!1,onTimeUpdate:M,onPlay:O,onPause:D,onEnded:W,onLoadedData:L,onClick:_,desktop:!0,wrapperClassName:"shadow-2xl shadow-accent/15 bg-card/40"},`desktop-${P?.key??h}`),!1]})]})})}export{Ee as A,ve as B,Ae as V,V as a,I as b,ne as c,$e as s};
