import{j as e,r as n}from"./react-core.WNgh4ro3.js";import{A as te,I as je,a as ae}from"./ui-primitives.DD_n4qOz.js";import{C as Ne,a as Te,s as ie}from"./accordion.BZvlXnnu.js";import{a as Ce,b as ce,u as ue}from"./engagement-hooks.CBHz9eKX.js";import{u as de}from"./visibility-hooks.D01aUBrU.js";function ne({tagName:t="h2",className:r="",before:f,text:a,after:v,beforeClass:l="",textClass:m="",afterClass:b="",beforeId:h,textId:o,afterId:i,beforeProps:u,textProps:g,afterProps:y,segmented:d,children:I,...w}){const x=typeof t=="string"?t.toLowerCase():"h2",$=["h1","h2","h3","h4","h5","h6"].includes(x),C=/\bh[1-6]\b/.test(r)||!$?r:`${x} ${r}`.trim(),_=f!==void 0||a!==void 0||v!==void 0,M=d!=null,N=(c,p,j)=>{const A=j??{},E=[p,A.className].filter(Boolean).join(" ");return{id:c??A.id,...A,className:E||void 0}},s=t;return e.jsx(s,{className:`${C} capitalize`,...w,children:M?e.jsxs(e.Fragment,{children:[d?.before!==void 0&&e.jsx("span",{...N(h,l,u),children:`${d.before} `}),d?.text!==void 0&&e.jsx("span",{...N(o,m,g),children:`${d.text} `}),d?.after!==void 0&&e.jsx("span",{...N(i,b,y),children:d.after})]}):_?e.jsxs(e.Fragment,{children:[f!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...N(h,l,u),children:f})," "]}),a!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...N(o,m,g),children:a})," "]}),v!==void 0&&e.jsx("span",{...N(i,b,y),children:v})]}):I})}function Qe({children:t,className:r="",duration:f=1200,hoverSweep:a=!0,pillClassName:v="text-sm px-5 py-2.5 tracking-wider",visibleRootMargin:l}){return e.jsx("div",{className:"inline-block mb-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx(te,{variant:"progress-b-f",triggers:"visible",duration:f,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-primary)",className:"inline-block",innerClassName:`bg-transparent border-transparent ${v}`,visibleRootMargin:l,children:e.jsx(ne,{tagName:"span",className:`uppercase tracking-wider font-semibold text-heading ${r}`,children:e.jsx("span",{"data-animate":"color-text-fade","data-animate-once":"true",className:"color-text-fade",style:{"--animation-duration":`${f}ms`},children:t})})}),a&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx(te,{variant:"progress-infinite",triggers:"hover",duration:1200,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-accent)",className:"w-full h-full",innerClassName:"bg-transparent border-transparent px-0 py-0 pointer-events-none",children:e.jsx("span",{className:"sr-only",children:"Decorative border sweep"})})})]})})}const Re=3e3;function $e({ref:t,active:r=!0,inactivityTimeout:f=Re}){const[a,v]=n.useState(!1),l=n.useRef(null),m=n.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=null)},[]),b=n.useCallback(()=>{m(),l.current=setTimeout(()=>{v(!1)},f)},[m,f]),h=n.useCallback(()=>{r&&(v(!0),b())},[r,b]);return n.useEffect(()=>{r||(v(!1),m())},[r,m]),n.useEffect(()=>{if(!a||!r)return;const o=t.current;if(!o)return;const i=()=>{b()};return o.addEventListener("scroll",i,{passive:!0}),o.addEventListener("touchmove",i,{passive:!0}),o.addEventListener("wheel",i,{passive:!0}),()=>{o.removeEventListener("scroll",i),o.removeEventListener("touchmove",i),o.removeEventListener("wheel",i)}},[t,a,r,b]),n.useEffect(()=>()=>{m()},[m]),{enabled:a,enableScroll:h}}const oe=200,Me=300,fe=14,U=fe*1e3,le=15,Ee=4,ke=220,Ae=16,Le=2200;function he({children:t,isActive:r,isTransitioning:f=!1,onScrollComplete:a,className:v="",style:l,resetOnActivate:m=!0,showDevOverlay:b=!1}){const h=n.useRef(null),[o,i]=n.useState(!1),[u,g]=n.useState(!1),[y,d]=n.useState(U),[I,w]=n.useState(0),x=n.useCallback(s=>{const c=Math.max(0,s.scrollHeight-s.clientHeight);if(c<=0)return 0;const p=c/fe;return!Number.isFinite(p)||p<=0?le:Math.max(le,p)},[]),$=n.useCallback(s=>{const c=Math.max(0,s.scrollHeight-s.clientHeight);if(c<=0)return U;const p=x(s);if(p<=0)return U;const j=Math.round(c/p*1e3);return!Number.isFinite(j)||j<=0?U:Math.max(U,j)},[x]),C=Ce({ref:h,active:r&&u&&!f,speed:x,loop:!1,startDelay:oe,resumeDelay:Me,resumeOnUserInput:!0,threshold:.05,resetOnInactive:!1}),{enabled:_,enableScroll:M}=$e({ref:h,active:r});n.useEffect(()=>{r&&(g(!1),i(!1),m&&(C.resetPosition(0),h.current?.scrollTo({top:0,left:0,behavior:"auto"})))},[r,m,C.resetPosition]),n.useEffect(()=>{if(!r)return;let s=null;const c=()=>{const p=h.current;if(p){const j=Math.max(0,p.scrollHeight-p.clientHeight),A=j>0?p.scrollTop/j*100:0;w(Math.round(A))}s=requestAnimationFrame(c)};return s=requestAnimationFrame(c),()=>{s&&cancelAnimationFrame(s)}},[r]),n.useEffect(()=>{const s=h.current;if(!s)return;let c=null;const p=()=>{const E=s.querySelector("picture img")??s.querySelector("img");if(!E||E.complete&&E.naturalHeight>0)return i(!0),!0;i(!1);const z=()=>i(!0);return E.addEventListener("load",z,{once:!0}),E.addEventListener("error",z,{once:!0}),c=()=>{E.removeEventListener("load",z),E.removeEventListener("error",z)},!0};if(p())return()=>c?.();const j=new MutationObserver(()=>{p()&&j.disconnect()});j.observe(s,{childList:!0,subtree:!0});const A=setTimeout(()=>{p()},100);return()=>{j.disconnect(),clearTimeout(A),c?.()}},[t]),n.useEffect(()=>{if(!o){g(!1);return}const s=h.current;if(!s)return;let c=!1,p=null;const j=()=>Math.max(0,s.scrollHeight-s.clientHeight)>Ee,A=()=>{c||(c=!0,p?.(),p=null,g(!0))},E=()=>{if(typeof ResizeObserver>"u"){A();return}let T=null,Y=s.scrollHeight;const P=()=>{T||(T=window.setTimeout(()=>{T=null,A()},ke))},B=()=>{T&&(window.clearTimeout(T),T=null)},F=new ResizeObserver(()=>{const V=s.scrollHeight;Math.abs(V-Y)>Ae&&(Y=V,B()),P()});F.observe(s),P(),p=()=>{F.disconnect(),T&&(window.clearTimeout(T),T=null)}};if(j())E();else if(typeof ResizeObserver<"u"){const T=new ResizeObserver(()=>{j()&&(T.disconnect(),E())});T.observe(s),p=()=>T.disconnect()}else A();const z=window.setTimeout(A,Le);return()=>{p?.(),window.clearTimeout(z)}},[o]),n.useEffect(()=>{if(!u||!r){d(U);return}const s=h.current;if(!s)return;const c=()=>d($(s));c();const p=typeof ResizeObserver<"u"?new ResizeObserver(()=>c()):null;return p?.observe(s),()=>p?.disconnect()},[u,r,$]);const N=n.useRef(y);return N.current=y,n.useEffect(()=>{if(!u||!r||!a||C.paused)return;const s=450,c=Math.max(N.current,U),p=oe+c+s,j=window.setTimeout(()=>{C.paused||a()},p);return()=>window.clearTimeout(j)},[r,u,a,C.paused]),e.jsxs("div",{className:`relative h-full ${v}`.trim(),style:l,onClick:M,children:[e.jsx("figure",{ref:h,className:`absolute inset-0 overflow-y-scroll bg-black/40 ${_?"overscroll-contain touch-pan-y":"pointer-events-none touch-none"}`,style:{WebkitOverflowScrolling:_?"touch":"auto",overscrollBehaviorY:_?"contain":"none"},children:t}),!1]})}function X(t){return t?typeof t=="string"?t.startsWith("@/")?t.replace("@/","/src/"):t:t.src?typeof t.src=="string"?t.src:t.src.src?t.src.src:t.src:"":""}function me(t){return X(t.featuredImage)||X(t.bannerImage)||X(t.image)||""}function J(t){return t?Array.isArray(t)?t:[]:[]}const Ie=750,_e="portfolio-showcase:ready",ze=800;function Oe({item:t,mediaEntry:r,totalSlides:f,onCycleComplete:a,isActive:v,isTransitioning:l=!1}){const[m,b]=n.useState(!1);n.useEffect(()=>{b(!0)},[]);const h=me(t),o=()=>m?!r?.src&&!h?e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-linear-to-b from-bg2 via-bg to-bg/80 text-white/30",children:"Preview coming soon"}):e.jsx(Ne,{src:r?.src||h,srcSet:r?.srcSet,sizes:r?.sizes,sources:r?.sources,alt:r?.alt||t.alt||t.title||"Project preview",width:r?.width,height:r?.height,loading:r?.loading||"lazy",decoding:r?.decoding||"async",fetchPriority:r?.fetchPriority||"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-linear-to-b from-bg2 via-bg to-bg/80"}),i=f>1?a:void 0;return e.jsx(he,{isActive:v,isTransitioning:l,onScrollComplete:i,resetOnActivate:!0,showDevOverlay:!0,children:o()})}function et({items:t=[],className:r="",mediaEntries:f=[]}){const a=n.useMemo(()=>J(t),[t]),v=n.useMemo(()=>J(f),[f]),[l,m]=n.useState(0),[b,h]=n.useState(null),[o,i]=n.useState("idle"),u=n.useRef(null),g=n.useRef(null),y=n.useRef(!1);n.useEffect(()=>{if(!a.length||y.current)return;y.current=!0;const x=window.setTimeout(()=>{window.dispatchEvent(new CustomEvent(_e))},ze);return()=>window.clearTimeout(x)},[a.length]),n.useEffect(()=>{if(!a.length){m(0),h(null),i("idle");return}m(x=>x>=a.length?0:x)},[a.length]),n.useEffect(()=>()=>{u.current&&(window.clearTimeout(u.current),u.current=null),g.current&&(cancelAnimationFrame(g.current),g.current=null)},[]);const d=n.useCallback(x=>{typeof window>"u"||(h(l),m(x),i("pre"),g.current&&(cancelAnimationFrame(g.current),g.current=null),g.current=requestAnimationFrame(()=>{g.current=requestAnimationFrame(()=>{i("animating")})}),u.current&&(window.clearTimeout(u.current),u.current=null),u.current=window.setTimeout(()=>{i("idle"),h(null)},Ie))},[l]),I=n.useCallback(()=>{if(!a.length||a.length<=1||o!=="idle")return;const x=(l+1)%a.length;d(x)},[l,a.length,d,o]);if(!a.length)return null;const w="absolute inset-0 transition-transform transition-opacity duration-[750ms] ease-[cubic-bezier(0.4,0,0.2,1)]";return e.jsx("div",{className:`portfolio-showcase-mounted relative h-full ${r}`.trim(),children:e.jsx("div",{className:"relative h-full w-full overflow-hidden",children:a.map((x,$)=>{const L=$===l,C=$===b,_=L||C&&o!=="idle";if(!(L||C&&o!=="idle"))return null;let N="translate-x-full";return C&&o!=="idle"?N="-translate-x-full":L&&(o==="idle"||b===null?N="translate-x-0":o==="pre"?N="translate-x-full":N="translate-x-0"),e.jsx("div",{className:`${w} shadow-2xl ${N} ${_?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":L?"false":"true",children:e.jsx(Oe,{item:x,mediaEntry:v[$],totalSlides:a.length||1,onCycleComplete:I,isActive:L,isTransitioning:o!=="idle"})},x.slug??x.id??$)})})})}function He({item:t,i:r,activeIndex:f,itemsLength:a,centerW:v,centerH:l,sideW:m,sideH:b,tx:h,onSelect:o,onScrollComplete:i,mediaEntry:u}){const g=r-f,y=g===0,d=n.useMemo(()=>g===0?"center":g===-1||g===a-1?"left":g===1||g===-(a-1)?"right":"hidden",[g,a]),I=y?"translate(-50%, 0)":"translate(-50%, -50%)",w="absolute left-1/2 overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] will-change-transform bg-gray-900";let x={width:`${m}px`,height:`${b}px`,transform:`${I} scale(0)`,zIndex:10,opacity:0,pointerEvents:"none"};y?x={width:`${v}px`,height:`${l}px`,transform:`${I} scale(1) rotateY(0deg)`,zIndex:30,opacity:1}:d==="left"?x={width:`${m}px`,height:`${b}px`,transform:`${I} translateX(-${h}px) scale(0.9) rotateY(22deg)`,zIndex:20,opacity:.4}:d==="right"&&(x={width:`${m}px`,height:`${b}px`,transform:`${I} translateX(${h}px) scale(0.9) rotateY(-22deg)`,zIndex:20,opacity:.4});const L=(()=>{const M=me(t);if(t.imageSources){if(y&&t.imageSources.center)return t.imageSources.center;if((d==="left"||d==="right")&&t.imageSources.side)return t.imageSources.side;if(t.imageSources.mobile)return t.imageSources.mobile}return M})(),C=u?.alt||t.alt||t.title||"Project preview",_=()=>u?.sources?.length?e.jsxs("picture",{children:[u.sources.map((M,N)=>e.jsx("source",{srcSet:M.srcSet,sizes:M.sizes??u.sizes,type:M.type},`source-${N}`)),e.jsx("img",{src:u.src,srcSet:u.srcSet,sizes:u.sizes,alt:C,width:u.width,height:u.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"})]}):u?.src?e.jsx("img",{src:u.src,srcSet:u.srcSet,sizes:u.sizes,alt:C,width:u.width,height:u.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"}):L?e.jsx("img",{src:L,alt:C,loading:r===0?"eager":"lazy",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top",decoding:"async"}):e.jsx("div",{className:"flex h-full w-full bg-gradient-to-b from-bg2 via-bg to-bg/80"});return e.jsx("div",{className:`${w} ${y?"top-0":"top-1/2"}`,style:x,"data-carousel-item":!0,"data-index":r,"data-active":y?"true":"false",onClick:()=>{y||o(r)},children:e.jsx(he,{isActive:y,isTransitioning:!1,onScrollComplete:y&&a>1?i:void 0,resetOnActivate:!0,showDevOverlay:!0,className:"w-full h-full bg-gray-900 m-0 p-0",children:_()})})}const De=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),Pe=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),We={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},Fe="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",ge=({direction:t="left",variant:r="floating",position:f,className:a="",iconClassName:v,disabled:l,...m})=>{const b=t==="left"?De:Pe,h=t==="left"?"Previous":"Next",o=r==="custom"?a:We[r]||`${r} ${a}`.trim(),i=f?{left:f.left,right:f.right,top:f.top??"50%",transform:f.transform??"translate(-50%, -50%)",...f}:void 0;return e.jsx("button",{type:"button","aria-label":h,className:o,style:i,disabled:l,...m,children:e.jsx(b,{className:v||Fe})})},pe=t=>e.jsx(ge,{direction:"left",...t}),xe=t=>e.jsx(ge,{direction:"right",...t});function tt({items:t=[],mediaEntries:r=[],defaultIndex:f=0,showArrows:a=!0,showDots:v=!0,drag:l=!1,className:m=""}){const b=n.useRef(null),[h,o]=n.useState(f),[i,u]=n.useState(0),[g,y]=n.useState(!1);n.useEffect(()=>{y(!0)},[]);const d=n.useMemo(()=>J(t),[t]),I=n.useMemo(()=>J(r),[r]),w=i>0;n.useLayoutEffect(()=>{if(typeof window>"u")return;const S=b.current;if(!S)return;const R=()=>{const H=S.getBoundingClientRect().width;H&&H!==i&&u(H)};R();const W=new ResizeObserver(R);return W.observe(S),window.addEventListener("resize",R,{passive:!0}),()=>{W.disconnect(),window.removeEventListener("resize",R)}},[i]);const x=n.useCallback(()=>{!d.length||d.length<=1||o(S=>(S+1)%d.length)},[d.length]),$=()=>{const S=i;return S<640?{centerW:280,centerH:190,sideW:180,sideH:120}:S<768?{centerW:340,centerH:230,sideW:220,sideH:150}:S<1024?{centerW:460,centerH:310,sideW:290,sideH:190}:S<1280?{centerW:680,centerH:450,sideW:420,sideH:290}:{centerW:860,centerH:540,sideW:520,sideH:360}},L=S=>{const R=i,H=-(R>=1536?72:R>=1280?56:R>=1024?40:20);return R/2-S/2-H},{centerW:C,centerH:_,sideW:M,sideH:N}=w?$():{centerW:0,centerH:0,sideW:0,sideH:0},s=w?L(M):0,c=()=>o(S=>S===0?d.length-1:S-1),p=()=>o(S=>S===d.length-1?0:S+1),A=(i>=768?48:40)/2,E=i>=1024?20:16,z=i>=1280,T=C/2+A+E,Y=z?`calc(50% - ${s}px)`:`calc(50% - ${T}px)`,P=z?`calc(50% + ${s}px)`:`calc(50% + ${T}px)`,B=n.useRef(null),F=n.useRef(null);ce({enabled:w&&l&&d.length>1,leftElRef:B,rightElRef:F,onLeft:c,onRight:p,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const V=Math.max(140,Math.min(M,520)),K=S=>({left:`calc(50% ${S>=0?"+":"-"} ${Math.abs(S)}px)`,transform:"translateX(-50%)",width:`${V}px`,top:0,height:"100%"}),Z=z?s:T,G=z?s:T;return d.length?e.jsx("div",{ref:b,...Te("fade-in",{once:!0}),"data-carousel-container":!0,suppressHydrationWarning:!0,className:`w-full ${m}`.trim(),children:w&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-visible w-full leading-none",style:{height:`${_}px`},children:[d.map((S,R)=>e.jsx(He,{item:S,i:R,activeIndex:h,itemsLength:d.length,centerW:C,centerH:_,sideW:M,sideH:N,tx:s,onSelect:o,onScrollComplete:x,mediaEntry:g?I[R]:void 0},S.slug??S.id??R)),l&&d.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:B,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:K(-Z),"aria-hidden":"true","data-drag-zone":"left"}),e.jsx("div",{ref:F,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:K(G),"aria-hidden":"true","data-drag-zone":"right"})]}),a&&d.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(pe,{onClick:c,variant:"floating",position:{left:Y,top:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(xe,{onClick:p,variant:"floating",position:{left:P,top:"50%",transform:"translate(-50%, -50%)"}})]})]}),v&&d.length>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:d.map((S,R)=>e.jsx("button",{type:"button",onClick:()=>o(R),className:`w-3 h-3 rounded-full transition-all duration-300 ${R===h?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to slide ${R+1}`},R))})]})}):null}const Be=n.forwardRef(function({items:r=[],renderItem:f=()=>null,children:a,speed:v=30,duplicateCount:l=3,autoplay:m=!0,pauseOnHover:b=!0,pauseOnEngage:h=!0,startDelay:o=2500,gap:i=24,itemWidth:u=120,gradientMask:g=!0,gradientWidth:y={base:48,md:80},threshold:d=.3,onItemInteraction:I,resumeDelay:w=500,resumeTriggers:x=["scroll","click-outside","hover-away"],containerSelector:$,itemSelector:L,className:C="",trackClassName:_=""},M){const N=n.useRef(null),s=n.useRef(null),[c,p]=n.useState(0),j=n.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);n.useImperativeHandle(M,()=>({container:N.current,track:s.current,getCurrentOffset:()=>c,setOffset:p}));const A=de(N,{threshold:d}),E=n.useMemo(()=>n.Children.toArray(a).filter(Boolean),[a]),z=E.length>0,T=z?E.length:r.length,Y=n.useMemo(()=>z?Array.from({length:l},(k,O)=>E.map((D,q)=>({type:"child",node:D,originalIndex:q,duplicateIndex:O}))).flat():Array.from({length:l},(k,O)=>r.map((D,q)=>({type:"item",item:D,originalIndex:q,duplicateIndex:O}))).flat(),[E,l,r,z]),P=T*u,{engageUser:B,isAutoplayPaused:F,userEngaged:V,isResumeScheduled:K,pause:Z,resume:G}=ue({totalItems:Math.max(T,1),currentIndex:T>0?Math.floor(Math.abs(c)/u)%T:0,setIndex:()=>{},autoplayTime:50,resumeDelay:w,resumeTriggers:x,containerSelector:$||`[data-autoplay-scope="${j}"]`,itemSelector:L||`[data-autoplay-scope="${j}"] [data-smooth-item]`,inView:m&&A,pauseOnEngage:h,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[S,R]=n.useState(!1);n.useEffect(()=>{if(!(m&&A&&!F)){R(!1);return}const O=window.setTimeout(()=>R(!0),o);return()=>window.clearTimeout(O)},[m,A,F,o]),n.useEffect(()=>{if(!S)return;let k,O=performance.now();const D=q=>{const Se=(q-O)/1e3;O=q,p(se=>{if(P<=0)return se;let ee=se-v*Se;return Math.abs(ee)>=P&&(ee+=P),ee}),k=requestAnimationFrame(D)};return k=requestAnimationFrame(D),()=>cancelAnimationFrame(k)},[S,v,P]);const W=n.useRef(null),H=n.useCallback(()=>{W.current&&(window.clearTimeout(W.current),W.current=null)},[]),ve=n.useCallback(()=>{H(),W.current=window.setTimeout(()=>{G(),W.current=null},w)},[H,G,w]),re=(k,O,D)=>{h&&(B(),Z()),I?.(k,O,D)},be=()=>{b&&(B(),Z())},we=()=>{b&&ve()};n.useEffect(()=>()=>H(),[H]);const[Q,ye]=n.useState(()=>typeof window>"u"?y.base:window.innerWidth>=768?y.md:y.base);return n.useEffect(()=>{if(typeof window>"u")return;const k=()=>{ye(window.innerWidth>=768?y.md:y.base)};return window.addEventListener("resize",k,{passive:!0}),()=>window.removeEventListener("resize",k)},[y.base,y.md]),e.jsxs("div",{ref:N,"data-autoplay-scope":j,className:`relative w-full overflow-hidden ${C}`.trim(),"data-smooth-carousel":!0,onMouseEnter:be,onMouseLeave:we,children:[g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 z-10 pointer-events-none",style:{width:`${Q}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 z-10 pointer-events-none",style:{width:`${Q}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${Q}px`},children:e.jsx("div",{ref:s,className:`flex items-center ${_}`.trim(),style:{transform:`translateX(${c}px)`,width:"max-content",gap:`${i}px`},children:Y.map((k,O)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>re(k,O,"hover"),children:k.type==="child"?k.node:f(k.item,O,{isActive:!1,onInteraction:D=>re(k.item,O,D)})},`${k.originalIndex}-${k.duplicateIndex}-${O}`))})}),!1]})});function Ue({name:t,index:r,onTechHover:f,onTechLeave:a,showName:v=!1,className:l="",children:m}){const[b,h]=n.useState(!1),o=n.useRef(null);n.useEffect(()=>()=>{o.current&&window.clearTimeout(o.current)},[]);const i=()=>f?.(t),u=()=>{h(!1),a?.()},g=()=>{o.current&&window.clearTimeout(o.current),h(!0),f?.(t),o.current=window.setTimeout(()=>{h(!1),a?.()},2500)};return e.jsxs("div",{...ie("fade-in",r,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":t,"data-index":r,className:`group flex flex-col items-center flex-shrink-0 ${l}`.trim(),role:"button",tabIndex:0,"aria-label":t,onMouseEnter:i,onMouseLeave:u,onFocus:i,onBlur:u,onTouchStart:g,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${b?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:m})}),v?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${b?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:t}):e.jsx("span",{className:"sr-only",children:t})]})}function nt({technologies:t=[],className:r=""}){const[f,a]=n.useState(null),v=n.useMemo(()=>t.filter(l=>l?.title).map(l=>({name:l.title??"",icon:l.icon??"lucide:code"})),[t]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${r}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(ne,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${f?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(ne,{tagName:"h2",before:"We've mastered ",text:f??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${f?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(Be,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:v.map((l,m)=>e.jsx(Ue,{name:l.name,index:m,onTechHover:a,onTechLeave:()=>a(null),children:e.jsx(je,{icon:l.icon,size:"xl","aria-label":l.name})},`${l.name}-${m}`))})]})})}const Ye="/assets/placeholder.jpg";function qe({item:t,className:r="",ringDuration:f=800}){const a=t.description??"",v=t.author??t.title??"Happy Client",l=[t.role,t.company].filter(Boolean).join(", "),m=Math.max(1,Math.min(5,t.rating??5)),b=X(t.featuredImage)||Ye,h=t.url||t.href||(t.slug?`/${t.slug}`:void 0),o=!!(t.hasPage&&h),i=[o?"group":"","text-left","outer-card-transition",o?"outer-card-hover-transition":"","!duration-[900ms]","ease-out"].filter(Boolean).join(" ");return e.jsx("div",{className:r,children:e.jsxs(te,{variant:o?"progress-b-f":"none",triggers:o?"hover":[],duration:f,borderRadius:"rounded-3xl",borderWidth:2,className:i,innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",linkProps:o?{href:h}:void 0,children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(ae,{data:{icon:"❝",description:a?`“${a}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(ae,{data:{image:{src:b,alt:v},title:v,description:l||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!l}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:m}).map((u,g)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${g}`))})]})]})})}function Ve({containerRef:t,totalItems:r,currentIndex:f,setIndex:a,autoplay:v=!0,autoplayTime:l=4e3,threshold:m=.3,resumeDelay:b=5e3,resumeTriggers:h=["scroll","click-outside","hover-away"],pauseOnEngage:o=!0,engageOnlyOnActiveItem:i=!0,activeItemAttr:u="data-active"}){const g=n.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),y=de(t,{threshold:m}),d=ue({totalItems:r,currentIndex:f,setIndex:a,autoplayTime:l,resumeDelay:b,resumeTriggers:h,containerSelector:`[data-autoplay-scope="${g}"]`,itemSelector:`[data-autoplay-scope="${g}"] [data-carousel-item]`,inView:v&&y,pauseOnEngage:o,engageOnlyOnActiveItem:i,activeItemAttr:u});return{scopeId:g,inView:y,...d}}function rt({items:t=[],slidesPerView:r={base:1,md:2},gap:f=32,autoplay:a=!0,autoAdvanceDelay:v=4500,showArrows:l=!1,showDots:m=!0,drag:b=!1,className:h=""}){const o=n.useRef(null),i=n.useRef(null),u=n.useRef(null),[g,y]=n.useState(typeof window<"u"?window.innerWidth:1024);n.useEffect(()=>{if(typeof window>"u")return;const s=()=>y(window.innerWidth);return window.addEventListener("resize",s,{passive:!0}),()=>window.removeEventListener("resize",s)},[]);const d=n.useMemo(()=>{const s=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let c=r.base??1;for(const{key:p,min:j}of s)g>=j&&r[p]!=null&&(c=r[p]);return Math.max(1,Number(c)||1)},[r,g]),I=n.useMemo(()=>{const s=[];for(let c=0;c<t.length;c+=d)s.push(t.slice(c,c+d));return s.length?s:[[]]},[t,d]),w=I.length,[x,$]=n.useState(0);n.useEffect(()=>{x>=w&&$(w-1)},[w,x]),Ve({containerRef:o,totalItems:w,currentIndex:x,setIndex:$,autoplay:a,autoplayTime:v,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const L=()=>$(s=>s===0?w-1:s-1),C=()=>$(s=>s===w-1?0:s+1),[_,M]=n.useState(!1);n.useEffect(()=>{if(w<=1)return;M(!0);const s=setTimeout(()=>M(!1),550);return()=>clearTimeout(s)},[x,w]),ce({enabled:b&&w>1,leftElRef:i,rightElRef:u,onLeft:L,onRight:C,dragThreshold:Math.max(40,Math.round(g*.05)),tapThreshold:12});const N=120;return e.jsxs("div",{ref:o,className:`relative w-full ${h}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${l&&w>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[l&&w>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(pe,{onClick:L,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${w*100}%`,transform:`translateX(-${x*100/w}%)`},children:I.map((s,c)=>e.jsx("div",{"data-carousel-item":!0,"data-active":c===x?"true":"false",className:"shrink-0",style:{width:`${100/w}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${d}, minmax(0, 1fr))`,gap:f},children:s.map((p,j)=>e.jsx("div",{className:"min-w-0",...ie("scale-in",c*d+j,{once:!0,staggerDelay:N}),children:e.jsx(qe,{item:p})},`testimonial-${c}-${j}`))})},`page-${c}`))}),_&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),b&&w>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:i,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:u,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),l&&w>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(xe,{onClick:C,variant:"inline"})})]}),m&&w>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:w}).map((s,c)=>e.jsx("button",{type:"button",onClick:()=>$(c),className:`w-3 h-3 rounded-full transition-all duration-300 ${c===x?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${c+1}`},`dot-${c}`))})]})}export{Qe as B,et as P,nt as T,tt as a,rt as b};
