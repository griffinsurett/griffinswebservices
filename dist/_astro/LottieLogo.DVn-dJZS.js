const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lottie_light.CkvSUzJO.js","_astro/react-core.LlkHSr3O.js"])))=>i.map(i=>d[i]);
import{r as t,j as p}from"./react-core.LlkHSr3O.js";import{_ as Q}from"./preload-helper.BlTxHScW.js";import{u as B}from"./ui-primitives.Bvqmh5Mu.js";import{u as z,a as U}from"./visibility-hooks.eJP2M0e7.js";import"./scroll-observer.EoeTqr10.js";const X=n=>{typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(n,{timeout:1e3}):setTimeout(n,0)},V=n=>n?typeof n.currentFrame=="number"?n.currentFrame:typeof n.currentRawFrame=="number"?n.currentRawFrame:0:0,Y=2;function Z({animationData:n=null,animationUrl:f=null,alt:R="",className:x="",containerClasses:S="relative",trigger:d="load",respectReducedMotion:k=!0,rewindToStartOnTop:u=!1,loop:w=!0,autoplay:m=!1,speed:T=1,renderer:I="svg",fadeMs:W=180,scrollThreshold:te=1,debounceDelay:re=8,wheelSensitivity:ne=1,children:G,decorative:h=!1}){const A=t.useRef(null),_=t.useRef(null),i=t.useRef(null),v=t.useRef(null),O=t.useRef(0),L=t.useRef(null),D=t.useRef(!1),F=t.useRef(!0),[g,P]=t.useState(!0),[b,y]=t.useState(!1),[M,J]=t.useState(!1),a=t.useCallback(()=>{const e=i.current;e&&L.current&&e.removeEventListener("enterFrame",L.current),L.current=null,D.current=!1},[]);t.useEffect(()=>{const e=()=>{const r=document.documentElement;J((r?.scrollHeight||0)>(window.innerHeight||0)+1)};"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:500}):setTimeout(e,100)},[]);const l=t.useMemo(()=>d==="scroll"||d==="visible"||d==="load"?d:M?"scroll":"load",[d,M]),o=B(k),N=z(A,{threshold:.1,rootMargin:"0px",once:!0}),E=z(A,{threshold:0,rootMargin:"0px",once:!1});t.useEffect(()=>{if(!o)switch(l){case"load":y(!0);break;case"visible":E&&y(!0);break}},[l,E,o]);const $=t.useCallback(e=>{const r=i.current,s=Date.now();O.current=s,r&&(a(),clearTimeout(v.current),e>0?(r.setDirection(1),r.isPaused&&r.play()):e<0&&(r.setDirection(-1),r.isPaused&&r.play()),v.current=setTimeout(()=>{s===O.current&&r&&r.pause()},200))},[a]),q=t.useCallback(()=>{if(!u)return;const e=i.current;if(!e||D.current)return;if(V(e)<=0){e.goToAndStop(0,!0);return}D.current=!0,clearTimeout(v.current);const s=()=>{V(e)<=.5&&(e.pause(),e.goToAndStop(0,!0),a())};L.current=s,e.addEventListener("enterFrame",s),e.setDirection(-1),e.play()},[u,a]);U({elementRef:null,scrollThreshold:1,debounceDelay:16,trustedOnly:!0,wheelSensitivity:1,onScrollActivity:l==="scroll"&&N?({dir:e,delta:r})=>{if(!o&&(b||y(!0),i.current)){const s=e==="down"?r:-r;$(s)}}:void 0,onWheelActivity:l==="scroll"&&N?({deltaY:e})=>{o||(b||y(!0),i.current&&$(e))}:void 0}),t.useEffect(()=>{if(!u||l!=="scroll"||o||typeof window>"u")return;F.current=(window.scrollY||0)<=Y;const e=()=>{const s=(window.scrollY||0)<=Y;!F.current&&s&&q(),F.current=s};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[u,l,q,o]),t.useEffect(()=>{if(o||!b||!_.current||i.current)return;if(!n&&!f){console.warn("OptimizedLottie: No animationData or animationUrl provided");return}let e=!1;return X(async()=>{if(!e)try{const{default:r}=await Q(async()=>{const{default:H}=await import("./lottie_light.CkvSUzJO.js").then(K=>K.l);return{default:H}},__vite__mapDeps([0,1]));let s=n;if(!s&&f&&(s=await(await fetch(f)).json()),e||!s)return;const c=r.loadAnimation({container:_.current,renderer:I,loop:w,autoplay:m,animationData:s});i.current=c,c.setSpeed(T),m||c.goToAndStop(0,!0);const C=()=>{m||c.goToAndStop(0,!0),requestAnimationFrame(()=>P(!1)),l==="load"&&m&&(c.setDirection(1),c.play())};c.addEventListener("DOMLoaded",C),c.addEventListener("data_ready",C),Promise.resolve().then(()=>C())}catch(r){console.error("OptimizedLottie: Failed to load animation:",r)}}),()=>{e=!0,a(),i.current?.destroy?.(),i.current=null}},[b,l,n,f,I,w,m,T,a,o]),t.useEffect(()=>{o&&(P(!0),y(!1),a(),clearTimeout(v.current),i.current?.destroy?.(),i.current=null)},[o,a]),t.useEffect(()=>{l!=="visible"||!i.current||o||!g&&E&&(i.current.setDirection(1),i.current.play())},[l,E,g,o]),t.useEffect(()=>()=>clearTimeout(v.current),[]);const j=o||g;return p.jsxs("div",{ref:A,"aria-label":h?void 0:R,"aria-hidden":h?!0:void 0,role:h?"presentation":void 0,className:`${x} ${S}`,children:[p.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transition:`opacity ${W}ms ease`,opacity:j?1:0},"aria-hidden":h?!0:!j,children:p.jsx("div",{className:"w-full h-full",children:G})}),b&&!o&&p.jsx("div",{ref:_,className:"absolute inset-0",style:{visibility:o?"hidden":"visible"},"aria-hidden":h?!0:j})]})}const ee="/lotties/Animation_logo_small_size.json";function ae({alt:n="",className:f="logo-class",mediaClasses:R="block w-[40px] h-[40px] lg:w-[45px] lg:h-[45px] object-contain",trigger:x="auto",respectReducedMotion:S=!0,fadeMs:d=180,loop:k=!0,decorative:u=!0,children:w}){const m=B(S),T=u?{"aria-hidden":!0,role:"presentation"}:{"aria-label":n};return m?p.jsx("div",{className:`${f} relative ${R}`,...T,children:w}):p.jsx(Z,{animationUrl:ee,alt:u?"":n,className:f,containerClasses:`relative ${R}`,trigger:x,respectReducedMotion:S,fadeMs:d,rewindToStartOnTop:!0,loop:k,autoplay:!1,speed:.5,renderer:"svg",scrollThreshold:1,debounceDelay:8,wheelSensitivity:1,decorative:u,children:w})}export{ae as default};
