import{r,b6 as L,j as i}from"./react-core.LlkHSr3O.js";let s=null;function P(){return s||(typeof document>"u"?null:(s=document.body,s))}const N={center:"flex items-center justify-center","bottom-left":"flex items-end justify-start p-4","bottom-right":"flex items-end justify-end p-4","top-left":"flex items-start justify-start p-4","top-right":"flex items-start justify-end p-4"};function S({isOpen:e,onClose:l,children:m,closeButton:y=!0,closeButtonClass:g="absolute top-4 right-4",overlayClass:p="bg-black bg-opacity-50",className:h="bg-bg shadow-xl p-6 rounded-lg max-w-lg w-full mx-4",allowScroll:c=!1,ariaLabel:v,ariaDescribedBy:x,position:w="center",ssr:a=!0}){const[o,d]=r.useState(a?e:!1),b=r.useRef(null);r.useEffect(()=>{!a&&!o&&d(!0)},[a,o]),r.useEffect(()=>{e&&d(!0)},[e]),r.useEffect(()=>{if(!o||!e||c)return;const t=document.documentElement,n=document.body,$=t.style.overflow,M=n.style.overflow,C=n.style.paddingRight,f=window.innerWidth-t.clientWidth;return t.style.overflow="hidden",n.style.overflow="hidden",f>0&&(n.style.paddingRight=`${f}px`),()=>{t.style.overflow=$,n.style.overflow=M,n.style.paddingRight=C}},[o,e,c]),r.useEffect(()=>{if(!o||!e)return;const t=n=>{n.key==="Escape"&&l()};return document.addEventListener("keydown",t,{passive:!0}),()=>{document.removeEventListener("keydown",t)}},[o,e,l]);const E=()=>{e||d(!1)},j=t=>{t.target===t.currentTarget&&l()},k=t=>{t.stopPropagation()},R=e?"pointer-events-auto":"pointer-events-none";if(!a&&!o||!o)return null;const u=P();return u?L.createPortal(i.jsx("div",{className:`fixed inset-0 z-[99999] ${N[w]} ${p} transform transition-opacity duration-300 ease-in-out ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:j,onTransitionEnd:E,role:"dialog","aria-modal":"true","aria-label":v,"aria-describedby":x,children:i.jsxs("div",{ref:b,className:`relative ${h} ${R} transform-gpu transition-all duration-300 ease-in-out origin-center ${e?"scale-100 translate-y-0 opacity-100":"scale-95 translate-y-4 opacity-0"}`,onClick:k,tabIndex:-1,children:[y&&i.jsx("button",{onClick:l,className:g,"aria-label":"Close modal",type:"button",children:i.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),m]})}),u):null}const I=r.memo(S);export{I as M};
