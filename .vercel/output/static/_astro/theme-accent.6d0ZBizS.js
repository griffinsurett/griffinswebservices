import{r as o,j as f}from"./react-core.LlkHSr3O.js";import{S as C,C as S}from"./theme-shared.DL3Cz1g2.js";function v(n,r,{raw:u=!0,validate:e,syncTabs:i=!0,serialize:s=u?(t=>String(t)):(t=>JSON.stringify(t)),deserialize:l=u?(t=>t):(t=>JSON.parse(t))}={}){const t=o.useRef(r),d=o.useCallback(()=>{const c=t.current;return typeof c=="function"?c():c},[]),x=o.useCallback(()=>{if(typeof window>"u")return d();try{const c=window.localStorage.getItem(n);if(c!=null){const a=l(c);if(!e||e(a))return a}}catch{}return d()},[n,l,e,d]),[m,w]=o.useState(x),p=o.useRef(!1);return o.useEffect(()=>{if(!(typeof window>"u")){if(!p.current){p.current=!0;try{const c=window.localStorage.getItem(n);if(c!=null){const a=l(c);if(!e||e(a)){a!==m&&w(a);return}}}catch{}}try{if(e&&!e(m))return;window.localStorage.setItem(n,s(m))}catch{}}},[n,m,s,e,l]),o.useEffect(()=>{if(!i||typeof window>"u")return;const c=a=>{if(a.storageArea===window.localStorage&&a.key===n)try{if(a.newValue==null)return;const h=l(a.newValue);(!e||e(h))&&w(h)}catch{}};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[n,l,e,i]),[m,w]}const g=["var(--main-accent)","var(--color-purple-700)","var(--color-teal-500)","var(--color-emerald-500)","var(--color-lime-500)","var(--color-red-500)","var(--color-pink-500)","var(--color-orange-500)","#722F37"];function E(){const n=()=>g[0],[r,u]=v("accent",n,{raw:!0,validate:e=>g.includes(e),syncTabs:!0});return o.useEffect(()=>{document.documentElement.style.setProperty("--color-accent",r)},[r]),{accent:r,setAccent:u,accents:g}}function b({open:n,onClose:r}){const{accent:u,setAccent:e,accents:i}=E();return n?f.jsx("div",{className:"absolute top-full mt-1 lg:mt-2 right-0 sm:left-0 sm:right-auto faded-bg rounded-xl p-2 lg:p-3 flex space-x-2 lg:space-x-3 overflow-x-auto hide-scrollbar shadow-lg z-50 w-max max-w-[calc(100vw-2.5rem)] sm:max-w-none",children:i.map(s=>f.jsx(C,{color:s,checked:u===s,onChange:()=>{e(s),r()},"aria-label":`Select accent color ${s}`},s))}):null}function R({gradientId:n}){const[r,u]=o.useState(!1),[e,i]=o.useState(!1),s=o.useRef(null);o.useEffect(()=>{if(!r)return;const t=d=>{s.current?.contains(d.target)||u(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[r]);const l=()=>{e||i(!0),u(t=>!t)};return f.jsxs("div",{ref:s,className:"relative inline-flex",children:[f.jsx(S,{checked:r,onChange:l,"aria-label":"Pick accent color",className:"faded-bg",children:f.jsx("svg",{className:"w-4.5 h-4.5 sm:w-[22px] sm:h-[22px]",viewBox:"0 0 100 100","aria-hidden":"true",children:f.jsx("path",{d:"M50 10C50 10 25 35 25 55C25 70.464 37.536 83 50 83C62.464 83 75 70.464 75 55C75 35 50 10 50 10Z",fill:`url(#${n})`})})}),e&&f.jsx(b,{open:r,onClose:()=>u(!1)})]})}export{R as A,v as u};
